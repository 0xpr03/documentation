<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Relevancy | MeiliSearch Documentation v0.16</title>
    <meta name="generator" content="VuePress 1.7.1">
    <script>
      window.$crisp=[];
      window.CRISP_WEBSITE_ID="38a71dd2-729c-4970-b061-3e1db1c1eb20";
      (function() {
          var d=document;
          var s=d.createElement("script");
          s.src="https://client.crisp.chat/l.js";
          s.async=1;
          d.getElementsByTagName("head")[0].appendChild(s);
      })();
    </script>
    <script>
      (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2013731,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
    <script src="https://cdn.usefathom.com/script.js" spa="auto" site="WIMXMDAA" defer="true"></script>
    <meta name="description" content="Open source Instant Search Engine">
    <meta property="article:modified_time" content="2020-11-25T16:14:51.000Z">
    <meta property="og:site_name" content="MeiliSearch Documentation v0.16">
    <meta property="og:title" content="Relevancy">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/guides/main_concepts/relevancy.html">
    <meta name="twitter:title" content="Relevancy">
    <meta name="twitter:url" content="/guides/main_concepts/relevancy.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="google-site-verification" content="u0OYrst4u5F16t0Vh4-EkO_sWE38Pp9aT7idfr0Ar9c">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://res.cloudinary.com/meilisearch/image/upload/v1582134509/og-image_dlbsnb.png">
    <meta prefix="og: http://ogp.me/ns#" property="og:image-secure-url" content="https://res.cloudinary.com/meilisearch/image/upload/v1582134509/og-image_dlbsnb.png">
    <meta prefix="og: http://ogp.me/ns#" property="og:image-image-type" content="image/png">
    <meta prefix="og: http://ogp.me/ns#" property="og:image-height" content="630">
    <meta prefix="og: http://ogp.me/ns#" property="og:locale" content="en_GB">
    <meta prefix="og: http://ogp.me/ns#" property="og:site-name" content="MeiliSearch Documentation">
    <meta property="twitter:title" content="MeiliSearch Documentation">
    <meta property="twitter:description" content="The official documentation of MeiliSearch">
    <meta property="twitter:image" content="https://res.cloudinary.com/meilisearch/image/upload/v1582134509/og-image_dlbsnb.png">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:image:alt" content="Next generation search API">
    <meta property="twitter:site" content="@meilisearch">
    
    <link rel="preload" href="/assets/css/0.styles.d7356a94.css" as="style"><link rel="preload" href="/assets/js/app.c9c2e0f9.js" as="script"><link rel="preload" href="/assets/js/3.0f2898d7.js" as="script"><link rel="preload" href="/assets/js/44.cb3804dd.js" as="script"><link rel="preload" href="/assets/js/8.29b9e80d.js" as="script"><link rel="prefetch" href="/assets/js/10.c10aada1.js"><link rel="prefetch" href="/assets/js/11.1e961a61.js"><link rel="prefetch" href="/assets/js/12.7cfcb7a9.js"><link rel="prefetch" href="/assets/js/13.e5d071ce.js"><link rel="prefetch" href="/assets/js/14.f9c2c5c1.js"><link rel="prefetch" href="/assets/js/15.8050f48f.js"><link rel="prefetch" href="/assets/js/16.bbe41a0c.js"><link rel="prefetch" href="/assets/js/17.fc789b71.js"><link rel="prefetch" href="/assets/js/18.24847dda.js"><link rel="prefetch" href="/assets/js/19.9e362a6a.js"><link rel="prefetch" href="/assets/js/20.f4795abf.js"><link rel="prefetch" href="/assets/js/21.aa18e822.js"><link rel="prefetch" href="/assets/js/22.32133ee2.js"><link rel="prefetch" href="/assets/js/23.2595ab64.js"><link rel="prefetch" href="/assets/js/24.af832158.js"><link rel="prefetch" href="/assets/js/25.61a59d63.js"><link rel="prefetch" href="/assets/js/26.1351ed6b.js"><link rel="prefetch" href="/assets/js/27.e292e3c9.js"><link rel="prefetch" href="/assets/js/28.97fed980.js"><link rel="prefetch" href="/assets/js/29.1751d521.js"><link rel="prefetch" href="/assets/js/30.e97dd668.js"><link rel="prefetch" href="/assets/js/31.7d65e40e.js"><link rel="prefetch" href="/assets/js/32.c5cc1e85.js"><link rel="prefetch" href="/assets/js/33.9cf3b010.js"><link rel="prefetch" href="/assets/js/34.9cb8d693.js"><link rel="prefetch" href="/assets/js/35.dd45312f.js"><link rel="prefetch" href="/assets/js/36.ac74d2bf.js"><link rel="prefetch" href="/assets/js/37.2d849901.js"><link rel="prefetch" href="/assets/js/38.180d5b83.js"><link rel="prefetch" href="/assets/js/39.1510765c.js"><link rel="prefetch" href="/assets/js/4.7aaca4a4.js"><link rel="prefetch" href="/assets/js/40.01991d99.js"><link rel="prefetch" href="/assets/js/41.b7f58186.js"><link rel="prefetch" href="/assets/js/42.9352d040.js"><link rel="prefetch" href="/assets/js/43.64f46690.js"><link rel="prefetch" href="/assets/js/45.f716633b.js"><link rel="prefetch" href="/assets/js/46.285f0038.js"><link rel="prefetch" href="/assets/js/47.38488bbb.js"><link rel="prefetch" href="/assets/js/48.a9e2a7e8.js"><link rel="prefetch" href="/assets/js/49.3dfc9896.js"><link rel="prefetch" href="/assets/js/5.5edf72eb.js"><link rel="prefetch" href="/assets/js/50.b9616ecc.js"><link rel="prefetch" href="/assets/js/51.7971a5d0.js"><link rel="prefetch" href="/assets/js/52.5692bc00.js"><link rel="prefetch" href="/assets/js/53.83540fae.js"><link rel="prefetch" href="/assets/js/54.7a25df18.js"><link rel="prefetch" href="/assets/js/55.6072dba1.js"><link rel="prefetch" href="/assets/js/56.325fd6f0.js"><link rel="prefetch" href="/assets/js/57.e73fc3c9.js"><link rel="prefetch" href="/assets/js/58.e7c56b02.js"><link rel="prefetch" href="/assets/js/59.6c6e25c2.js"><link rel="prefetch" href="/assets/js/6.03604e7c.js"><link rel="prefetch" href="/assets/js/60.4d5c2174.js"><link rel="prefetch" href="/assets/js/61.8d646eae.js"><link rel="prefetch" href="/assets/js/62.7a27dc1a.js"><link rel="prefetch" href="/assets/js/63.aa58e02f.js"><link rel="prefetch" href="/assets/js/64.b492aa7e.js"><link rel="prefetch" href="/assets/js/65.61dbc391.js"><link rel="prefetch" href="/assets/js/66.c31c10fe.js"><link rel="prefetch" href="/assets/js/67.d641c4d7.js"><link rel="prefetch" href="/assets/js/68.af95d5ed.js"><link rel="prefetch" href="/assets/js/69.ea698c34.js"><link rel="prefetch" href="/assets/js/7.d69c654d.js"><link rel="prefetch" href="/assets/js/70.33b251af.js"><link rel="prefetch" href="/assets/js/71.f1f9bfe8.js"><link rel="prefetch" href="/assets/js/72.3650bbe0.js"><link rel="prefetch" href="/assets/js/73.9119869d.js"><link rel="prefetch" href="/assets/js/74.3b7e05af.js"><link rel="prefetch" href="/assets/js/75.24d3fec5.js"><link rel="prefetch" href="/assets/js/76.c825661b.js"><link rel="prefetch" href="/assets/js/77.4ce473e2.js"><link rel="prefetch" href="/assets/js/78.62bc229a.js"><link rel="prefetch" href="/assets/js/79.69b3cfe6.js"><link rel="prefetch" href="/assets/js/9.80450f23.js"><link rel="prefetch" href="/assets/js/vendors~docs-searchbar.2f1ad0f0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d7356a94.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="MeiliSearch Documentation v0.16" class="logo"> <span class="site-name can-hide">MeiliSearch Documentation v0.16</span></a> <div class="links"><form id="search-form" role="search" class="meilisearch-search-wrapper search-box"><input id="meilisearch-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guides/" class="nav-link router-link-active">
  Guides
</a></div><div class="nav-item"><a href="/references/" class="nav-link">
  API References
</a></div><div class="nav-item"><a href="/resources/" class="nav-link">
  Resources
</a></div><div class="nav-item"><a href="/faq/faq.html" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="https://slack.meilisearch.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Slack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/meilisearch/MeiliSearch" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guides/" class="nav-link router-link-active">
  Guides
</a></div><div class="nav-item"><a href="/references/" class="nav-link">
  API References
</a></div><div class="nav-item"><a href="/resources/" class="nav-link">
  Resources
</a></div><div class="nav-item"><a href="/faq/faq.html" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="https://slack.meilisearch.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Slack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/meilisearch/MeiliSearch" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/guides/introduction/" class="sidebar-heading clickable"><span>🚀 Introduction</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/introduction/quick_start_guide.html" class="sidebar-link">Getting Started</a></li><li><a href="/guides/introduction/whats_next.html" class="sidebar-link">What's next?</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/guides/main_concepts/" class="sidebar-heading clickable router-link-active open"><span>💡 Main concepts</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/main_concepts/indexes.html" class="sidebar-link">Indexes</a></li><li><a href="/guides/main_concepts/documents.html" class="sidebar-link">Documents</a></li><li><a href="/guides/main_concepts/search.html" class="sidebar-link">Search</a></li><li><a href="/guides/main_concepts/relevancy.html" aria-current="page" class="active sidebar-link">Relevancy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/main_concepts/relevancy.html#ranking-rules" class="sidebar-link">Ranking rules</a></li><li class="sidebar-sub-header"><a href="/guides/main_concepts/relevancy.html#order-of-the-rules" class="sidebar-link">Order of the rules</a></li><li class="sidebar-sub-header"><a href="/guides/main_concepts/relevancy.html#adding-your-rules" class="sidebar-link">Adding your rules</a></li><li class="sidebar-sub-header"><a href="/guides/main_concepts/relevancy.html#importance-of-the-attributes" class="sidebar-link">Importance of the attributes</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/guides/advanced_guides/" class="sidebar-heading clickable"><span>📚 Advanced Guides</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/advanced_guides/installation.html" class="sidebar-link">Installation</a></li><li><a href="/guides/advanced_guides/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/guides/advanced_guides/search_parameters.html" class="sidebar-link">Search Parameters</a></li><li><a href="/guides/advanced_guides/filtering.html" class="sidebar-link">Filtering</a></li><li><a href="/guides/advanced_guides/faceted_search.html" class="sidebar-link">Faceted Search</a></li><li><a href="/guides/advanced_guides/authentication.html" class="sidebar-link">Authentication</a></li><li><a href="/guides/advanced_guides/asynchronous_updates.html" class="sidebar-link">Asynchronous Updates</a></li><li><a href="/guides/advanced_guides/web_interface.html" class="sidebar-link">Web interface</a></li><li><a href="/guides/advanced_guides/datatypes.html" class="sidebar-link">Data Types</a></li><li><a href="/guides/advanced_guides/settings.html" class="sidebar-link">Settings</a></li><li><a href="/guides/advanced_guides/synonyms.html" class="sidebar-link">Synonyms</a></li><li><a href="/guides/advanced_guides/stop_words.html" class="sidebar-link">Stop words</a></li><li><a href="/guides/advanced_guides/distinct.html" class="sidebar-link">Distinct Attribute</a></li><li><a href="/guides/advanced_guides/snapshots_and_dumps.html" class="sidebar-link">Snapshots and Dumps</a></li><li><a href="/guides/advanced_guides/field_properties.html" class="sidebar-link">Field Properties</a></li><li><a href="/guides/advanced_guides/typotolerance.html" class="sidebar-link">Typo Tolerance</a></li><li><a href="/guides/advanced_guides/prefix.html" class="sidebar-link">Prefix Search</a></li><li><a href="/guides/advanced_guides/concat.html" class="sidebar-link">Concatenate and Split Queries</a></li><li><a href="/guides/advanced_guides/bucket_sort.html" class="sidebar-link">Bucket sort</a></li><li><a href="/guides/advanced_guides/known_limitations.html" class="sidebar-link">Known limitations</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="relevancy"><a href="#relevancy" class="header-anchor">#</a> Relevancy</h1> <p>Search responses are sorted according to a set of consecutive rules called <strong>ranking rules</strong>. When a search query is made, MeiliSearch uses a <a href="/guides/advanced_guides/bucket_sort.html">bucket sort</a> to rank documents. Each rule is applied to all documents that are considered equal according to the previous rule to break the tie.</p> <p>Ranking rules are <strong>built-in rules applied to the search results</strong> in order to improve their relevancy. To benefit from the ranking rules and make them meet your dataset and needs, it is important to understand how each of them works and how to create new ones.</p> <p>For a more in-depth explanation of the algorithm and the default ranking rules, <a href="https://github.com/meilisearch/MeiliSearch/issues/358" target="_blank" rel="noopener noreferrer">see this issue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="ranking-rules"><a href="#ranking-rules" class="header-anchor">#</a> Ranking rules</h2> <p>Ranking rules determine which documents are returned upon a search query. Each of them has a special use in finding the right results for a given search query.</p> <p>The ranking rules are <strong>customizable</strong> which means <strong>existing rules can be deleted and new ones can be added</strong>.</p> <p>The order in which they are applied has a significant impact on the search results. The first rules being the most impactful and the last one the least. The default order has been chosen because it meet most standard needs. <strong>This order can be changed in the settings</strong>.</p> <p>By default, ranking rules are executed in the following order:</p> <p><strong>1. Typo</strong><br>
Results are sorted by <strong>increasing number of typos</strong>: find documents that match query terms with fewer typos first.</p> <p><strong>2. Words</strong><br>
Results are sorted by <strong>decreasing number of matched query terms</strong> in each matching document: find documents that contain more occurrences of the query terms first.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>It is now mandatory that all query terms are present in the returned documents. This rule does not impact search results yet. <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>soon</span></p></div> <p><strong>3. Proximity</strong><br>
Results are sorted by <strong>increasing distance between matched query terms</strong>: find documents that contain more query terms found close together (close proximity between two query terms) and appearing in the original order specified in the query string first.</p> <p><strong>4. Attribute</strong><br>
Results are sorted according to <strong><a href="/guides/main_concepts/relevancy.html#importance-of-the-attributes">the order of importance of the attributes</a></strong>: find documents that contain query terms in more important attributes first.</p> <p><strong>5. Words Position</strong><br>
Results are sorted by <strong>the position of the query words in the attributes</strong>: find documents that contain query terms earlier in their attributes first.</p> <p><strong>6. Exactness</strong><br>
Results are sorted by <strong>the similarity of the matched words with the query words</strong>: find documents that contain exactly the same terms as the ones queried first.</p> <h4 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h4> <div class="el-tabs el-tabs--top el-tabs--border-card"><div class="el-tabs__header is-top"><div class="el-tabs__nav-wrap is-top"><div class="el-tabs__nav-scroll"><div role="tablist" class="el-tabs__nav is-top" style="transform:translateX(-0px);"></div></div></div></div><div class="el-tabs__content"><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><p><img alt="Image from alias" data-src="/ranking-rules/vogli3.png" loading="lazy" class="lazy"></p> <h3 id="typo"><a href="#typo" class="header-anchor">#</a> Typo</h3> <ul><li><code>vogli</code>: 0 typo</li> <li><code>volli</code>: 1 typo</li></ul> <p>The <code>typo</code> rule sorts the results by increasing number of typos on matched query words.</p></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><p><img alt="Image from alias" data-src="/ranking-rules/new_road.png" loading="lazy" class="lazy"></p> <h3 id="proximity"><a href="#proximity" class="header-anchor">#</a> Proximity</h3> <p>The reason why <code>Creature</code> is listed before <code>Mississippi Grind</code> is because of the <code>proximity</code> rule.<br>
The smallest <strong>distance</strong> between the matching words in <code>creature</code> is smaller than the smallest <strong>distance</strong> between the matching words in <code>Mississippi Grind</code>.</p> <p>The <code>proximity</code> rule sorts the results by increasing distance between matched query terms.</p></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><p><img alt="Image from alias" data-src="/ranking-rules/belgium.png" loading="lazy" class="lazy"></p> <h3 id="attribute"><a href="#attribute" class="header-anchor">#</a> Attribute</h3> <p><code>If It's Tuesday, This must be Belgium</code> is the first document because the matched word <code>Belgium</code>, is found in the <code>title</code> attribute and not the <code>description</code>.</p> <p>The <code>attribute</code> rule sorts the results by <a href="/guides/main_concepts/relevancy.html#importance-of-the-attributes">attribute importance</a>.</p></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><p><img alt="Image from alias" data-src="/ranking-rules/belgium.png" loading="lazy" class="lazy"></p> <h3 id="word-position"><a href="#word-position" class="header-anchor">#</a> Word position</h3> <p><code>Gangsta</code> appears before <code>Dunkirk</code> because <code>Belgium</code> appears sooner in the attribute.</p> <p>The <code>word position</code> rule sorts the results by increasing matching word's index number.</p></div> <div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><p><img alt="Image from alias" data-src="/ranking-rules/knight.png" loading="lazy" class="lazy"></p> <h3 id="exactness"><a href="#exactness" class="header-anchor">#</a> Exactness</h3> <p><code>Knight Moves</code> is displayed before <code>Knights of Badassdom</code>. <code>Knight</code> is exactly the same as the search query <code>Knight</code> whereas there is a letter of difference between <code>Knights</code> and the search query <code>Knight</code>.</p></div></div></div> <h2 id="order-of-the-rules"><a href="#order-of-the-rules" class="header-anchor">#</a> Order of the rules</h2> <p>By default, the built-in rules are executed in the following order to meet most standard needs.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token string">&quot;typo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;words&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;proximity&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;attribute&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wordsPosition&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;exactness&quot;</span><span class="token punctuation">]</span>
</code></pre></div><p>Depending on your needs, you might want to change this order of importance. To do so, you can use the <a href="/references/ranking_rules.html#update-ranking-rules">settings route</a> of your index.</p> <h2 id="adding-your-rules"><a href="#adding-your-rules" class="header-anchor">#</a> Adding your rules</h2> <p>New rules can be added to the existing list at any time and placed anywhere in the sequence.</p> <p>A custom rule allows you to create an ascending or descending sorting rule on a given attribute. The attribute <strong>must have a numeric value</strong> in the documents. If any value is not a numeric type, the sorting rule won't be applied. Only numbers can be arranged in ascending or descending order.</p> <p>To add your own ranking rule, you have to communicate either <code>asc</code> for ascending order or <code>desc</code> for descending order followed by the field name between round brackets.</p> <ul><li><p>To apply an <strong>ascending sorting</strong> (results sorted by increasing value of the attribute): <code>asc(attribute_name)</code></p></li> <li><p>To apply a <strong>descending sorting</strong> (results sorted by decreasing value of the attribute): <code>desc(attribute_name)</code></p></li></ul> <p>Add this rule to the existing list of ranking rules using the <a href="/references/ranking_rules.html#update-ranking-rules">settings route</a>.</p> <h4 id="example"><a href="#example" class="header-anchor">#</a> Example</h4> <p>Let's say you have a movie dataset. The documents contain the fields <code>release_date</code> with a timestamp as value, and <code>movie_ranking</code> an integer that represents its ranking.</p> <p>The following example will create a rule that makes older movies more relevant than more recent ones. A movie released in 1999 will appear before a movie released in 2020.</p> <div class="language- extra-class"><pre class="language-text"><code>asc(release_date)
</code></pre></div><p>The following example will create a rule that makes movies with a good rank more relevant than movies with a lower rank. Movies with a higher ranking will appear first.</p> <div class="language- extra-class"><pre class="language-text"><code>desc(movie_ranking)
</code></pre></div><p>To add a rule to the existing ranking rule, you have to add the rule to the existing ordered rules array using the <a href="/references/ranking_rules.html#update-ranking-rules">settings route</a>,</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token string">&quot;typo&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;attribute&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;proximity&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;words&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;wordsPosition&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;exactness&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;asc(release_date)&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;desc(movie_ranking)&quot;</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="importance-of-the-attributes"><a href="#importance-of-the-attributes" class="header-anchor">#</a> Importance of the attributes</h2> <p>In a dataset, some fields are more relevant to the search than others. A <code>title</code>, for example, has a value more meaningful to a movie search than its <code>description</code> or its <code>director</code> name.</p> <p>By default, the order of importance of the attributes is based on their order of appearance in the first document added. Then, each new attribute found in new documents will be added at the end of this ordered list.</p> <p>If you wish to specify the order of the attributes you can either define them in the settings or set the correct order in the first document indexed.</p> <h3 id="changing-the-order-of-the-attributes"><a href="#changing-the-order-of-the-attributes" class="header-anchor">#</a> Changing the order of the attributes</h3> <p>You may want to change the order once the documents have been ingested. This is still very possible using the <a href="/guides/advanced_guides/field_properties.html#searchable-fields">searchable attributes list</a>.</p> <p>Whenever a document is added to MeiliSearch, all new attributes found in it are automatically added to two lists:</p> <ul><li><strong>The <a href="/references/searchable_attributes.html">searchable attributes list</a></strong>: Attributes of the fields in which to search for matching query words.</li> <li><strong>The <a href="/references/displayed_attributes.html">displayed attributes list</a></strong>: Attributes of the fields displayed in documents.</li></ul> <p>This searchable attributes list is <strong>ordered</strong>, which means the order in which the attributes appear in the list determines their relevancy. Attributes are arranged from the most important attribute to the least important attribute.</p> <p>Place the attributes in the desired order and send this updated list using the <a href="/references/settings.html">settings routes</a>. Attributes will be re-ordered.</p> <h4 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;description&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;director&quot;</span><span class="token punctuation">]</span>
</code></pre></div><p>If you take a look at the above order, the matching words found in <code>title</code> will make the document more relevant than one with the same matching words found in <code>description</code> or <code>director</code>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/meilisearch/documentation/edit/master/guides/main_concepts/relevancy.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/25/2020, 4:14:51 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guides/main_concepts/search.html" class="prev">
        Search
      </a></span> <span class="next"><a href="/guides/advanced_guides/installation.html">
        Installation
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c9c2e0f9.js" defer></script><script src="/assets/js/3.0f2898d7.js" defer></script><script src="/assets/js/44.cb3804dd.js" defer></script><script src="/assets/js/8.29b9e80d.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Snapshots and Dumps | MeiliSearch Documentation v0.16</title>
    <meta name="generator" content="VuePress 1.7.1">
    <script>
      window.$crisp=[];
      window.CRISP_WEBSITE_ID="38a71dd2-729c-4970-b061-3e1db1c1eb20";
      (function() {
          var d=document;
          var s=d.createElement("script");
          s.src="https://client.crisp.chat/l.js";
          s.async=1;
          d.getElementsByTagName("head")[0].appendChild(s);
      })();
    </script>
    <script>
      (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2013731,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
    <script src="https://cdn.usefathom.com/script.js" spa="auto" site="WIMXMDAA" defer="true"></script>
    <meta name="description" content="Open source Instant Search Engine">
    <meta property="article:modified_time" content="2020-11-10T14:53:48.000Z">
    <meta property="og:site_name" content="MeiliSearch Documentation v0.16">
    <meta property="og:title" content="Snapshots and Dumps">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/guides/advanced_guides/snapshots_and_dumps.html">
    <meta name="twitter:title" content="Snapshots and Dumps">
    <meta name="twitter:url" content="/guides/advanced_guides/snapshots_and_dumps.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="google-site-verification" content="u0OYrst4u5F16t0Vh4-EkO_sWE38Pp9aT7idfr0Ar9c">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://res.cloudinary.com/meilisearch/image/upload/v1582134509/og-image_dlbsnb.png">
    <meta prefix="og: http://ogp.me/ns#" property="og:image-secure-url" content="https://res.cloudinary.com/meilisearch/image/upload/v1582134509/og-image_dlbsnb.png">
    <meta prefix="og: http://ogp.me/ns#" property="og:image-image-type" content="image/png">
    <meta prefix="og: http://ogp.me/ns#" property="og:image-height" content="630">
    <meta prefix="og: http://ogp.me/ns#" property="og:locale" content="en_GB">
    <meta prefix="og: http://ogp.me/ns#" property="og:site-name" content="MeiliSearch Documentation">
    <meta property="twitter:title" content="MeiliSearch Documentation">
    <meta property="twitter:description" content="The official documentation of MeiliSearch">
    <meta property="twitter:image" content="https://res.cloudinary.com/meilisearch/image/upload/v1582134509/og-image_dlbsnb.png">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:image:alt" content="Next generation search API">
    <meta property="twitter:site" content="@meilisearch">
    
    <link rel="preload" href="/assets/css/0.styles.485e2404.css" as="style"><link rel="preload" href="/assets/js/app.c49e4876.js" as="script"><link rel="preload" href="/assets/js/3.78cc5b20.js" as="script"><link rel="preload" href="/assets/js/32.99d33b26.js" as="script"><link rel="prefetch" href="/assets/js/10.c2c80168.js"><link rel="prefetch" href="/assets/js/11.debcf7a3.js"><link rel="prefetch" href="/assets/js/12.334187ba.js"><link rel="prefetch" href="/assets/js/13.ad4b99e5.js"><link rel="prefetch" href="/assets/js/14.d109a2ac.js"><link rel="prefetch" href="/assets/js/15.ed60ec7e.js"><link rel="prefetch" href="/assets/js/16.9a2ff279.js"><link rel="prefetch" href="/assets/js/17.efe823db.js"><link rel="prefetch" href="/assets/js/18.f140daa3.js"><link rel="prefetch" href="/assets/js/19.ce87875b.js"><link rel="prefetch" href="/assets/js/20.c3a80436.js"><link rel="prefetch" href="/assets/js/21.dfba804e.js"><link rel="prefetch" href="/assets/js/22.da23eb75.js"><link rel="prefetch" href="/assets/js/23.180c6576.js"><link rel="prefetch" href="/assets/js/24.fa12f299.js"><link rel="prefetch" href="/assets/js/25.6b834db5.js"><link rel="prefetch" href="/assets/js/26.be069c20.js"><link rel="prefetch" href="/assets/js/27.edf05410.js"><link rel="prefetch" href="/assets/js/28.df728564.js"><link rel="prefetch" href="/assets/js/29.4a917fce.js"><link rel="prefetch" href="/assets/js/30.67898696.js"><link rel="prefetch" href="/assets/js/31.07fce224.js"><link rel="prefetch" href="/assets/js/33.8414e34f.js"><link rel="prefetch" href="/assets/js/34.0fa2d818.js"><link rel="prefetch" href="/assets/js/35.4ae86c09.js"><link rel="prefetch" href="/assets/js/36.223ef553.js"><link rel="prefetch" href="/assets/js/37.bed4fe3a.js"><link rel="prefetch" href="/assets/js/38.2cb05e56.js"><link rel="prefetch" href="/assets/js/39.addacdef.js"><link rel="prefetch" href="/assets/js/4.9bbafcf6.js"><link rel="prefetch" href="/assets/js/40.af1ec9c9.js"><link rel="prefetch" href="/assets/js/41.e9444f4b.js"><link rel="prefetch" href="/assets/js/42.ebfce9a9.js"><link rel="prefetch" href="/assets/js/43.dfd0c6cd.js"><link rel="prefetch" href="/assets/js/44.7ab682be.js"><link rel="prefetch" href="/assets/js/45.55a5b656.js"><link rel="prefetch" href="/assets/js/46.dc04b828.js"><link rel="prefetch" href="/assets/js/47.c74442f1.js"><link rel="prefetch" href="/assets/js/48.1908ef93.js"><link rel="prefetch" href="/assets/js/49.7923056b.js"><link rel="prefetch" href="/assets/js/5.2553159c.js"><link rel="prefetch" href="/assets/js/50.07e68fea.js"><link rel="prefetch" href="/assets/js/51.888b20d5.js"><link rel="prefetch" href="/assets/js/52.fab2e2a8.js"><link rel="prefetch" href="/assets/js/53.d244559e.js"><link rel="prefetch" href="/assets/js/54.0902df33.js"><link rel="prefetch" href="/assets/js/55.59b32a10.js"><link rel="prefetch" href="/assets/js/56.f83ba367.js"><link rel="prefetch" href="/assets/js/57.520f36f8.js"><link rel="prefetch" href="/assets/js/58.bb7f9441.js"><link rel="prefetch" href="/assets/js/59.6455a7e7.js"><link rel="prefetch" href="/assets/js/6.3637f42c.js"><link rel="prefetch" href="/assets/js/60.63d72b47.js"><link rel="prefetch" href="/assets/js/61.06b18497.js"><link rel="prefetch" href="/assets/js/62.be7906f4.js"><link rel="prefetch" href="/assets/js/63.f1f775b7.js"><link rel="prefetch" href="/assets/js/64.7185df09.js"><link rel="prefetch" href="/assets/js/65.f3522102.js"><link rel="prefetch" href="/assets/js/66.0fe81900.js"><link rel="prefetch" href="/assets/js/67.6429d19e.js"><link rel="prefetch" href="/assets/js/68.57829125.js"><link rel="prefetch" href="/assets/js/69.bcda13ad.js"><link rel="prefetch" href="/assets/js/7.5c8d2762.js"><link rel="prefetch" href="/assets/js/70.eecd56eb.js"><link rel="prefetch" href="/assets/js/71.cab3fa60.js"><link rel="prefetch" href="/assets/js/72.ecb4fa21.js"><link rel="prefetch" href="/assets/js/73.e726d54f.js"><link rel="prefetch" href="/assets/js/74.b00726ff.js"><link rel="prefetch" href="/assets/js/75.9bb889bf.js"><link rel="prefetch" href="/assets/js/76.23bf3f7d.js"><link rel="prefetch" href="/assets/js/77.2d61691d.js"><link rel="prefetch" href="/assets/js/78.1c83fb3a.js"><link rel="prefetch" href="/assets/js/8.23d64115.js"><link rel="prefetch" href="/assets/js/9.ddd4137c.js"><link rel="prefetch" href="/assets/js/vendors~docs-searchbar.ce7768c7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.485e2404.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="MeiliSearch Documentation v0.16" class="logo"> <span class="site-name can-hide">MeiliSearch Documentation v0.16</span></a> <div class="links"><form id="search-form" role="search" class="meilisearch-search-wrapper search-box"><input id="meilisearch-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guides/" class="nav-link router-link-active">
  Guides
</a></div><div class="nav-item"><a href="/references/" class="nav-link">
  API References
</a></div><div class="nav-item"><a href="/resources/" class="nav-link">
  Resources
</a></div><div class="nav-item"><a href="/faq/faq.html" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="https://slack.meilisearch.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Slack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/meilisearch/MeiliSearch" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guides/" class="nav-link router-link-active">
  Guides
</a></div><div class="nav-item"><a href="/references/" class="nav-link">
  API References
</a></div><div class="nav-item"><a href="/resources/" class="nav-link">
  Resources
</a></div><div class="nav-item"><a href="/faq/faq.html" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="https://slack.meilisearch.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Slack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/meilisearch/MeiliSearch" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/guides/introduction/" class="sidebar-heading clickable"><span>🚀 Introduction</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/introduction/quick_start_guide.html" class="sidebar-link">Getting Started</a></li><li><a href="/guides/introduction/whats_next.html" class="sidebar-link">What's next?</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/guides/main_concepts/" class="sidebar-heading clickable"><span>💡 Main concepts</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/main_concepts/indexes.html" class="sidebar-link">Indexes</a></li><li><a href="/guides/main_concepts/documents.html" class="sidebar-link">Documents</a></li><li><a href="/guides/main_concepts/search.html" class="sidebar-link">Search</a></li><li><a href="/guides/main_concepts/relevancy.html" class="sidebar-link">Relevancy</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/guides/advanced_guides/" class="sidebar-heading clickable router-link-active open"><span>📚 Advanced Guides</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/advanced_guides/installation.html" class="sidebar-link">Installation</a></li><li><a href="/guides/advanced_guides/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/guides/advanced_guides/search_parameters.html" class="sidebar-link">Search Parameters</a></li><li><a href="/guides/advanced_guides/filtering.html" class="sidebar-link">Filtering</a></li><li><a href="/guides/advanced_guides/faceted_search.html" class="sidebar-link">Faceted Search</a></li><li><a href="/guides/advanced_guides/authentication.html" class="sidebar-link">Authentication</a></li><li><a href="/guides/advanced_guides/asynchronous_updates.html" class="sidebar-link">Asynchronous Updates</a></li><li><a href="/guides/advanced_guides/web_interface.html" class="sidebar-link">Web interface</a></li><li><a href="/guides/advanced_guides/datatypes.html" class="sidebar-link">Data Types</a></li><li><a href="/guides/advanced_guides/settings.html" class="sidebar-link">Settings</a></li><li><a href="/guides/advanced_guides/synonyms.html" class="sidebar-link">Synonyms</a></li><li><a href="/guides/advanced_guides/stop_words.html" class="sidebar-link">Stop words</a></li><li><a href="/guides/advanced_guides/distinct.html" class="sidebar-link">Distinct Attribute</a></li><li><a href="/guides/advanced_guides/snapshots_and_dumps.html" aria-current="page" class="active sidebar-link">Snapshots and Dumps</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/advanced_guides/snapshots_and_dumps.html#snapshot-vs-dump" class="sidebar-link">Snapshot vs Dump</a></li><li class="sidebar-sub-header"><a href="/guides/advanced_guides/snapshots_and_dumps.html#snapshots" class="sidebar-link">Snapshots</a></li><li class="sidebar-sub-header"><a href="/guides/advanced_guides/snapshots_and_dumps.html#dumps" class="sidebar-link">Dumps</a></li></ul></li><li><a href="/guides/advanced_guides/field_properties.html" class="sidebar-link">Field Properties</a></li><li><a href="/guides/advanced_guides/typotolerance.html" class="sidebar-link">Typo Tolerance</a></li><li><a href="/guides/advanced_guides/prefix.html" class="sidebar-link">Prefix Search</a></li><li><a href="/guides/advanced_guides/concat.html" class="sidebar-link">Concatenate and Split Queries</a></li><li><a href="/guides/advanced_guides/bucket_sort.html" class="sidebar-link">Bucket sort</a></li><li><a href="/guides/advanced_guides/known_limitations.html" class="sidebar-link">Known limitations</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="snapshots-and-dumps"><a href="#snapshots-and-dumps" class="header-anchor">#</a> Snapshots and Dumps</h1> <h2 id="snapshot-vs-dump"><a href="#snapshot-vs-dump" class="header-anchor">#</a> Snapshot vs Dump</h2> <p>MeiliSearch has two ways to backup its data: <code>snapshots</code> and <code>dumps</code>.</p> <p><strong>Snapshots</strong> make it possible to schedule the creation of hard copies of your database. This feature is <strong>intended mainly as a safeguard</strong>: ensuring that if some failure occurs, you're able to relaunch your database quickly and efficiently from a snapshot. The documents in a snapshot are already &quot;indexed&quot; and ready to go, greatly increasing import speed. However, as a result, <strong>snapshots are not compatible between different versions of MeiliSearch</strong>.</p> <p>Dumps, on the other hand, export MeiliSearch data in a way that is not bound to a specific MeiliSearch version. As a result, importing a dump requires MeiliSearch to index all of your documents. This process requires a certain amount of time and memory (corresponding to the number of documents, their size, and the complexity of any index settings).</p> <p><strong>To summarize</strong>, snapshots are highly efficient but not portable between different versions of MeiliSearch. Dumps, on the other hand, are highly portable but not very efficient, as frequently launching MeiliSearch from a dump would cause your performance to suffer.</p> <h2 id="snapshots"><a href="#snapshots" class="header-anchor">#</a> Snapshots</h2> <p>A snapshot is an exact copy of the database (i.e. the <a href="http://data.ms" target="_blank" rel="noopener noreferrer">data.ms<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> folder) at the time the snapshot was created. Besides compression, snapshots do not go through any processing. They can be thought of as &quot;pre-compiled copies&quot;.<br>
Using this feature, it is possible to schedule snapshot creation at custom intervals and use existing snapshots to restore MeiliSearch.</p> <h3 id="creating-snapshots"><a href="#creating-snapshots" class="header-anchor">#</a> Creating Snapshots</h3> <p>For MeiliSearch to create snapshots, the feature must be enabled by adding the following flag:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ meilisearch --schedule-snapshot<span class="token operator">=</span>true
</code></pre></div><p>By default, MeiliSearch creates snapshots in a directory called <code>snapshots/</code> at the root of your MeiliSearch.</p> <p>The destination can be modified with the <code>--snapshot-dir</code> flag.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ meilisearch --schedule-snapshot<span class="token operator">=</span>true --snapshot-dir mySnapShots/
</code></pre></div><p>Now snapshots are created in <code>mySnapShots/</code> directory.</p> <p>The first snapshot is created on launching MeiliSearch. After that, snapshots are created routinely on a set interval until you deactivate snapshots or end the MeiliSearch instance. By default, one snapshot is taken every 24 hours.</p> <p>The amount of time between each new snapshot can be modified with the <code>--snapshot-interval-sec</code> flag.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ meilisearch --schedule-snapshot<span class="token operator">=</span>true --snapshot-interval-sec <span class="token number">3600</span>
</code></pre></div><p>After running the above code, a snapshot is created every hour (3600 seconds).</p> <p>During snapshot creation, old snapshots are <strong>automatically overwritten</strong>. This means that only the most recent snapshot should be present in the folder at any given time.</p> <p><a href="/guides/advanced_guides/configuration.html#schedule-snapshot-creation">[More about snapshots flags and env variables]</a></p> <h3 id="start-from-snapshot"><a href="#start-from-snapshot" class="header-anchor">#</a> Start from Snapshot</h3> <p>Because snapshots are exact copies of your database that haven't gone through any processing besides compression, starting a MeiliSearch instance from a snapshot is significantly faster than adding documents manually or starting from a dump.</p> <p>Using the global environment <code>MEILI_IMPORT_SNAPSHOT</code> or the CLI flag <code>--import-snapshot</code> , MeiliSearch will start the server using the provided snapshot.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ meilisearch --import-snapshot mySnapShots/data.ms.snapshot
</code></pre></div><h4 id="common-problems"><a href="#common-problems" class="header-anchor">#</a> Common Problems</h4> <p>Take note that whenever you launch MeiliSearch from a snapshot, it will <em>stop processing and throw an error</em>* if it encounters either of the two following situations:</p> <ol><li>A database already exists (i.e. you have a non-empty <code>data.ms</code> folder in the same directory as your MeiliSearch binary)</li> <li>No snapshot is found at the given path</li></ol> <p>In both cases, <strong>this behavior is <a href="/guides/advanced_guides/configuration.html#ignore-missing-snapshot">configurable</a></strong>.</p> <p>If you don't want MeiliSearch to throw an error when finding that a database already exists, you can add the following flag: <code>--ignore-snapshot-if-db-exists=true</code>. When using this flag, MeiliSearch will use the existing database to start an instance instead of throwing an error. The snapshot will be ignored.</p> <p>If you do not want MeiliSearch to throw an error when there is no snapshot at the given path, you can add the following flag: <code>--ignore-missing-snapshot</code>. MeiliSearch will then continue its process and not import any snapshot.</p> <p>When starting from a snapshot, chances are that you already have an existing database. <strong>For security reasons, a database is never overwritten</strong>. To load a snapshot when an existing database is present, you will have to manually delete the existing database. By default, this is the contents of the <code>data.ms</code> folder (unless you <a href="/guides/advanced_guides/configuration.html#database-path">changed the path</a>) which is located in the same folder as your MeiliSearch binary.<br>
The simplest way to delete your database is with the terminal command <code>rm -rf data.ms</code>, after which you should be able to start MeiliSearch with a snapshot.</p> <p><a href="/guides/advanced_guides/configuration.html#schedule-snapshot-creation">[More about snapshots flags and env variables]</a></p> <h3 id="use-cases"><a href="#use-cases" class="header-anchor">#</a> Use Cases</h3> <p><strong>Snapshots are safeguards in case of problems</strong>. If your MeiliSearch instance encounters a problem or if you make a mistake while manipulating your database, restarting your instance with the latest snapshot is an easy way to recover your data.</p> <h3 id="version-compatibility"><a href="#version-compatibility" class="header-anchor">#</a> Version Compatibility</h3> <p>Since a snapshot is an exact replica of your database, it can only be opened by the same version of MeiliSearch that created it.</p> <h2 id="dumps"><a href="#dumps" class="header-anchor">#</a> Dumps</h2> <p>A dump is a compressed file containing an export of your MeiliSearch instance. It contains all your indexes, documents, and settings, but in a raw unprocessed form. A dump isn't an exact copy of your database—it is closer to a blueprint that allows you to create an identical dataset. A dump can be imported when launching MeiliSearch, but be advised that it may take some time to index all the documents within.</p> <h3 id="creating-a-dump"><a href="#creating-a-dump" class="header-anchor">#</a> Creating a Dump</h3> <p>To create a dump of your dataset, you need to use the appropriate HTTP route: <code>POST /dumps</code>. Using that route will trigger a dump creation process. Creating a dump is an asynchronous task that takes time based on the size of your dataset. A dump uid (unique identifier) is returned to help you track the process.</p> <div><div class="el-tabs el-tabs--top el-tabs--border-card"><div class="el-tabs__header is-top"><div class="el-tabs__nav-wrap is-top"><div class="el-tabs__nav-scroll"><div role="tablist" class="el-tabs__nav is-top" style="transform:translateX(-0px);"></div></div></div></div><div class="el-tabs__content"><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><div><!--beforebegin--><div class="language-bash extra-class"><!--afterbegin--><pre v-pre class="language-bash"><code>$ <span class="token function">curl</span> -X POST <span class="token string">'http://localhost:7700/dumps'</span>
</code></pre>
<!--beforeend--></div><!--afterend--></div></div><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><div><!--beforebegin--><div class="language-javascript extra-class"><!--afterbegin--><pre v-pre class="language-javascript"><code>client<span class="token punctuation">.</span><span class="token function">createDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<!--beforeend--></div><!--afterend--></div></div><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><div><!--beforebegin--><div class="language-python extra-class"><!--afterbegin--><pre v-pre class="language-python"><code>client<span class="token punctuation">.</span>create_dump<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<!--beforeend--></div><!--afterend--></div></div><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><div><!--beforebegin--><div class="language-php extra-class"><!--afterbegin--><pre v-pre class="language-php"><code><span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">createDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<!--beforeend--></div><!--afterend--></div></div><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><div><!--beforebegin--><div class="language-ruby extra-class"><!--afterbegin--><pre v-pre class="language-ruby"><code>client<span class="token punctuation">.</span>create_dump
</code></pre>
<!--beforeend--></div><!--afterend--></div></div></div></div></div> <p>The above code triggers a dump creation process.</p> <p>At any given moment, you can check the status of a particular dump creation process using the previously received dump uid, like so: <code>GET /dumps/:dump_uid/status</code>. Using this route, you can know whether your dump is still processing, has already been created, or has encountered a problem.</p> <div><div class="el-tabs el-tabs--top el-tabs--border-card"><div class="el-tabs__header is-top"><div class="el-tabs__nav-wrap is-top"><div class="el-tabs__nav-scroll"><div role="tablist" class="el-tabs__nav is-top" style="transform:translateX(-0px);"></div></div></div></div><div class="el-tabs__content"><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><div><!--beforebegin--><div class="language-bash extra-class"><!--afterbegin--><pre v-pre class="language-bash"><code>$ <span class="token function">curl</span> -X GET <span class="token string">'http://localhost:7700/dumps/20201101-110357260/status'</span>
</code></pre>
<!--beforeend--></div><!--afterend--></div></div><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><div><!--beforebegin--><div class="language-javascript extra-class"><!--afterbegin--><pre v-pre class="language-javascript"><code>client<span class="token punctuation">.</span><span class="token function">getDumpStatus</span><span class="token punctuation">(</span><span class="token string">"20201101-110357260"</span><span class="token punctuation">)</span>
</code></pre>
<!--beforeend--></div><!--afterend--></div></div><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><div><!--beforebegin--><div class="language-python extra-class"><!--afterbegin--><pre v-pre class="language-python"><code>client<span class="token punctuation">.</span>get_dump_status<span class="token punctuation">(</span><span class="token string">'20201101-110357260'</span><span class="token punctuation">)</span>
</code></pre>
<!--beforeend--></div><!--afterend--></div></div><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><div><!--beforebegin--><div class="language-php extra-class"><!--afterbegin--><pre v-pre class="language-php"><code><span class="token variable">$client</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">getDumpStatus</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'20201101-110357260'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<!--beforeend--></div><!--afterend--></div></div><div role="tabpanel" aria-hidden="true" id="pane-null" aria-labelledby="tab-null" class="el-tab-pane" style="display:none;"><div><!--beforebegin--><div class="language-ruby extra-class"><!--afterbegin--><pre v-pre class="language-ruby"><code>client<span class="token punctuation">.</span>get_dump_status<span class="token punctuation">(</span><span class="token number">20201006</span><span class="token operator">-</span><span class="token number">053243949</span><span class="token punctuation">)</span>
</code></pre>
<!--beforeend--></div><!--afterend--></div></div></div></div></div> <p>After your dump creation process is done, the dump file is created and added in the dump folder. By default, this folder is <code>/dumps</code> at the root of your MeiliSearch binary, but this can be customized. Note that <strong>if your dump folder does not already exist when the dump creation process is called, MeiliSearch will create it</strong>.</p> <h3 id="import-a-dump"><a href="#import-a-dump" class="header-anchor">#</a> Import a Dump</h3> <p>Once you have exported a dump, which is a <code>.dump</code> file, you are now able to use that dump to launch MeiliSearch. As the data contained in the dump needs to be indexed, the process will take some time to complete. Only when the dump has been fully imported will the MeiliSearch server start, after which you can begin searching through your data.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./meilisearch --import-dump /dumps/20200813-042312213.dump
</code></pre></div><p>Because importing a dump is the same process as when documents are initially indexed by MeiliSearch, it can require some time and memory. If your dataset is very large, it is good practice to index documents in larger batches. This will speed up the indexing process at the cost of memory.</p> <p><a href="/guides/advanced_guides/configuration.html#dumps-destination">See here for more dumps options</a></p> <h3 id="use-cases-2"><a href="#use-cases-2" class="header-anchor">#</a> Use Cases</h3> <p>Dumps are used to restore your database after MeiliSearch updates or to communicate your database to other instances of MeiliSearch (e.g. running on different servers) without having to worry about their respective versions.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/meilisearch/documentation/edit/master/guides/advanced_guides/snapshots_and_dumps.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/10/2020, 2:53:48 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guides/advanced_guides/distinct.html" class="prev">
        Distinct Attribute
      </a></span> <span class="next"><a href="/guides/advanced_guides/field_properties.html">
        Field Properties
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c49e4876.js" defer></script><script src="/assets/js/3.78cc5b20.js" defer></script><script src="/assets/js/32.99d33b26.js" defer></script>
  </body>
</html>

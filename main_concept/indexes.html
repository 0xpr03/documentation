<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Indexes | Meili Documentation</title>
    <meta name="description" content="The Meili incredible documentation">
    <script>
      window.$crisp=[];
      window.CRISP_WEBSITE_ID="38a71dd2-729c-4970-b061-3e1db1c1eb20";
      (function() {
          var d=document;
          var s=d.createElement("script");
          s.src="https://client.crisp.chat/l.js";
          s.async=1;
          d.getElementsByTagName("head")[0].appendChild(s);
      })();
    </script>
  <script>
      (function(e,t){var n=e.amplitude||{_q:[],_iq:{}};var r=t.createElement("script")
      ;r.type="text/javascript"
      ;r.integrity="sha384-d/yhnowERvm+7eCU79T/bYjOiMmq4F11ElWYLmt0ktvYEVgqLDazh4+gW9CKMpYW"
      ;r.crossOrigin="anonymous";r.async=true
      ;r.src="https://cdn.amplitude.com/libs/amplitude-5.2.2-min.gz.js"
      ;r.onload=function(){if(!e.amplitude.runQueuedFunctions){
      console.log("[Amplitude] Error: could not load SDK")}}
      ;var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)
      ;function s(e,t){e.prototype[t]=function(){
      this._q.push([t].concat(Array.prototype.slice.call(arguments,0)));return this}}
      var o=function(){this._q=[];return this}
      ;var a=["add","append","clearAll","prepend","set","setOnce","unset"]
      ;for(var u=0;u<a.length;u++){s(o,a[u])}n.Identify=o;var c=function(){this._q=[]
      ;return this}
      ;var l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"]
      ;for(var p=0;p<l.length;p++){s(c,l[p])}n.Revenue=c
      ;var d=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"]
      ;function v(e){function t(t){e[t]=function(){
      e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}
      for(var n=0;n<d.length;n++){t(d[n])}}v(n);n.getInstance=function(e){
      e=(!e||e.length===0?"$default_instance":e).toLowerCase()
      ;if(!n._iq.hasOwnProperty(e)){n._iq[e]={_q:[]};v(n._iq[e])}return n._iq[e]}
      ;e.amplitude=n})(window,document);

      amplitude.getInstance().init("b1e93a7d40b5ea629cf0abee212cb54c");
    </script>
    
    <link rel="preload" href="/assets/css/0.styles.6b3ccc64.css" as="style"><link rel="preload" href="/assets/js/app.74f95bcf.js" as="script"><link rel="preload" href="/assets/js/2.f47d6e8e.js" as="script"><link rel="preload" href="/assets/js/21.ffc6f052.js" as="script"><link rel="prefetch" href="/assets/js/10.641ed4b8.js"><link rel="prefetch" href="/assets/js/11.bad462e9.js"><link rel="prefetch" href="/assets/js/12.a33d7a63.js"><link rel="prefetch" href="/assets/js/13.685bff96.js"><link rel="prefetch" href="/assets/js/14.62b06356.js"><link rel="prefetch" href="/assets/js/15.11727f5f.js"><link rel="prefetch" href="/assets/js/16.e1bccdb7.js"><link rel="prefetch" href="/assets/js/17.ac919eca.js"><link rel="prefetch" href="/assets/js/18.4a008331.js"><link rel="prefetch" href="/assets/js/19.c5be5124.js"><link rel="prefetch" href="/assets/js/20.e27bfc69.js"><link rel="prefetch" href="/assets/js/22.1a64e875.js"><link rel="prefetch" href="/assets/js/23.1b10f21b.js"><link rel="prefetch" href="/assets/js/24.2abffeab.js"><link rel="prefetch" href="/assets/js/25.397effcb.js"><link rel="prefetch" href="/assets/js/26.6761617b.js"><link rel="prefetch" href="/assets/js/27.33c52a34.js"><link rel="prefetch" href="/assets/js/28.b9bb5b80.js"><link rel="prefetch" href="/assets/js/29.f9357484.js"><link rel="prefetch" href="/assets/js/3.3bce55f9.js"><link rel="prefetch" href="/assets/js/30.84135a5b.js"><link rel="prefetch" href="/assets/js/31.e225e7f0.js"><link rel="prefetch" href="/assets/js/32.a49519d1.js"><link rel="prefetch" href="/assets/js/33.29e6f54d.js"><link rel="prefetch" href="/assets/js/34.e17f7899.js"><link rel="prefetch" href="/assets/js/35.2c27a910.js"><link rel="prefetch" href="/assets/js/36.735378ed.js"><link rel="prefetch" href="/assets/js/37.77862ed1.js"><link rel="prefetch" href="/assets/js/4.31fc9c86.js"><link rel="prefetch" href="/assets/js/5.a14355bf.js"><link rel="prefetch" href="/assets/js/6.1a4a4466.js"><link rel="prefetch" href="/assets/js/7.20960ac6.js"><link rel="prefetch" href="/assets/js/8.955ca5e1.js"><link rel="prefetch" href="/assets/js/9.00b81f57.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6b3ccc64.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Meili Documentation" class="logo"> <span class="site-name can-hide">Meili Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/meilisearch/MeiliDB" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/meilisearch/MeiliDB" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Introduction</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" class="sidebar-link">Introduction</a></li><li><a href="/introduction/quickstart.html" class="sidebar-link">Quick Start</a></li><li><a href="/introduction/features.html" class="sidebar-link">Features</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/main_concept/" class="sidebar-heading clickable router-link-active open"><span>Main concepts</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/main_concept/indexes.html" class="active sidebar-link">Indexes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/main_concept/indexes.html#schema-definition" class="sidebar-link">Schema definition</a></li><li class="sidebar-sub-header"><a href="/main_concept/indexes.html#identifier" class="sidebar-link">Identifier</a></li><li class="sidebar-sub-header"><a href="/main_concept/indexes.html#indexed" class="sidebar-link">Indexed</a></li><li class="sidebar-sub-header"><a href="/main_concept/indexes.html#displayed" class="sidebar-link">Displayed</a></li><li class="sidebar-sub-header"><a href="/main_concept/indexes.html#ranked" class="sidebar-link">Ranked</a></li><li class="sidebar-sub-header"><a href="/main_concept/indexes.html#inferred-schema" class="sidebar-link">Inferred Schema</a></li></ul></li><li><a href="/main_concept/documents.html" class="sidebar-link">Documents</a></li><li><a href="/main_concept/search.html" class="sidebar-link">Search</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/advanced_guides/typotolerance" class="sidebar-heading clickable"><span>Advanced Guide</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/references/" class="sidebar-heading clickable"><span>API References</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="indexes"><a href="#indexes" class="header-anchor">#</a> Indexes</h1> <p>An <code>index</code> is an entity, like a <em>table in SQL</em>, with a specific <code>schema</code> definition. It gathers a collection of <code>documents</code> with the structure defined by the schema.</p> <p>No other information than a <strong>name and a schema are required for the <a href="/references/indexes.html#create-an-index">creation of an index</a></strong>. The schema can also be inferred if none is given.</p> <h2 id="schema-definition"><a href="#schema-definition" class="header-anchor">#</a> Schema definition</h2> <p><strong>A schema is a representation of the attributes of the document and how MeiliSearch will handle these fields.</strong></p> <p>In the schema definition, each attribute has one or multiple of the following tags :</p> <ul><li><strong>identifier</strong>: The unique identifier of a document (e.g <code>id</code>)</li> <li><strong>indexed</strong>: the search engine will search inside those fields.</li> <li><strong>displayed</strong>: Fields that will appear in the returned documents.</li> <li><strong>ranked</strong>: Ranked fields are used to create ranking rules.</li></ul> <p>As a result, it is possible to have indexed fields that are not displayed or displayed fields that are not indexed. Depending on your documents and your needs, this could be useful.</p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>The only mandatory document field is the <strong>identifier</strong>.</p></div> <h3 id="fields-order"><a href="#fields-order" class="header-anchor">#</a> Fields order</h3> <p>The <strong>order of the fields represents their relevance</strong> in the search engine.</p> <p>Thus, if a <code>title</code> field is defined before a <code>description</code> field, its content will be considered more relevant to a search query than that of a &quot;description&quot; field.
</p> <p>Which means that if you search for something that matches in the <code>description</code> of the document <em>A</em> and in the <code>title</code> of the document <em>B</em>,
the document <em>B</em> will be considered better than the document <em>A</em>. You can read more about these rules <a href="/advanced_guides/ranking.html#ranking-rules">in the ranking section</a>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The <strong>order of the document fields has a huge impact on the relevancy</strong>. So please order fields from the most important to the less.</p></div> <h3 id="example"><a href="#example" class="header-anchor">#</a> Example</h3> <p>Take, for example, a movie collection. We have several fields:</p> <ul><li><strong>id</strong>: The unique identifier of a movie.</li> <li><strong>title</strong>: Title of the movie, will be showcased</li> <li><strong>description</strong>: A description of the movie.</li> <li><strong>release_date</strong>: The release date of the movies.</li> <li><strong>poster</strong>: The URL of the poster or the image related to the movie.</li></ul> <p>This is the <strong>schema</strong>:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;indexed&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;displayed&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;indexed&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;displayed&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;indexed&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;displayed&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;release_date&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ranked&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;displayed&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;poster&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;displayed&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The fields are <a href="/main_concept/indexes.html#fields-order">sorted by relevancy importance</a>.</p> <p>The <code>id</code> field is the unique identifier of a movie document. We want to display it (<em>displayed</em>) and give the possibility to users to search for the movie using his ID (<em>indexed</em>).</p> <p>The <code>title</code> field is an important field, which is why it is ranked second in the order of fields. We want
our search queries to search inside this field (<em>indexed</em>), and we also want to showcase it to the user (<em>displayed</em>).</p> <p>The <code>description</code> field is exactly like the title field. Its 3rd position in the order of the fields puts it after <code>Title</code> in relevancy.</p> <p>The <code>release_date</code> field is not indexed because user does not usually search by date. With the <em>ranked</em> tag, we can create a custom ranking rule
that will make the recent movies more relevant than the older ones in the search engine.</p> <p>Finaly, the <code>poster</code> field contains the image URL to the movie's poster. We do not want to search inside the URL, that's why we omitted the <code>indexed</code> tag.</p> <p>When no schema is given at the creation of an index, the schema is inferred. <a href="/main_concept/documents.html#schemas">Inferrence follows strict rules to index correctly</a>.</p> <h2 id="identifier"><a href="#identifier" class="header-anchor">#</a> Identifier</h2> <p>This tag is given to the attribute that contains the <strong>unique key of each document</strong>.</p> <p>If two documents added at the same time have the same ID, MeiliSearch will only save the last one.</p> <p>If a document is added when there is already a document with the same ID in MeiliSearch, it will be updated.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Documents identifiers are always converted into strings and only strings and integers are valid identifiers.
It means that it is, for example, forbidden to use arrays or objects as identifier.</p></div> <h2 id="indexed"><a href="#indexed" class="header-anchor">#</a> Indexed</h2> <p>It defines the fields that will be used to find the documents.</p> <p>For example, an <code>url</code> field is not necessarily interesting for the search engine. So by omitting this tag, the <code>url</code> will not be indexed but can still be returned inside the documents with the <code>displayed</code> tag.</p> <h2 id="displayed"><a href="#displayed" class="header-anchor">#</a> Displayed</h2> <p>This defines the fields that will be returned when querying meiliSearch. A non-displayed field will never appear in the search response.</p> <p>For example, if the field contains a large amount of data, returning it would slow down server returns. By not storing it but still indexing it, the data will be used by the search engine but not returned in the documents.</p> <h2 id="ranked"><a href="#ranked" class="header-anchor">#</a> Ranked</h2> <p>This tag allows the creation of a custom ranking rule. See <a href="/advanced_guides/ranking.html#custom-ranking-rules">custom ranking rules</a> for more information.</p> <h2 id="inferred-schema"><a href="#inferred-schema" class="header-anchor">#</a> Inferred Schema</h2> <p>When creating an index, meiliSearch expects a name for the index and a schema definition. <strong>If no schema is defined before adding documents, the schema will be inferred</strong>.</p> <p>The inference of the schema is based on the first document added to MeiliSearch. Then, by following the inference rules, the schema will be created.</p> <h3 id="inference-rules"><a href="#inference-rules" class="header-anchor">#</a> Inference rules</h3> <p>the schema is infered this way:</p> <ul><li>the <strong>order of the fields</strong> is the order of the schema fields</li> <li>the <strong>identifier</strong> is the first field containing <code>&quot;id&quot;</code> (case insensitive)</li> <li>every field is <code>indexed</code> and <code>displayed</code></li></ul> <p>The order of the fields inside the document will <a href="/main_concept/indexes.html#fields-order">determine their relevance in the search engine</a>.</p> <p>To determine the identifier, an attribute that contains the case insensitive string <code>id</code> is expected. Thus, <code>_id</code>, <code>myId</code>, for example, are correct keys.</p> <p>This field will receieve the <a href="/main_concept/indexes.html#identifier">identifier</a> tag, so it should contain the unique identifier of a document.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>If the <code>identifier</code> field is missing, the inference will not be completed, and the <strong>documents will not be added</strong>.</p></div> <p>Every other field will have the <code>indexed</code> and <code>displayed</code>tags.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>By default the Meili dashboard infers the schema from the <strong>first</strong> document sent.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/introduction/features.html" class="prev">Features</a></span> <span class="next"><a href="/main_concept/documents.html">Documents</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.74f95bcf.js" defer></script><script src="/assets/js/2.f47d6e8e.js" defer></script><script src="/assets/js/21.ffc6f052.js" defer></script>
  </body>
</html>

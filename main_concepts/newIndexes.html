<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Indexes | MeiliSearch Documentation</title>
    <meta name="description" content="Open source Instant Search Engine">
    <script>
      window.$crisp=[];
      window.CRISP_WEBSITE_ID="38a71dd2-729c-4970-b061-3e1db1c1eb20";
      (function() {
          var d=document;
          var s=d.createElement("script");
          s.src="https://client.crisp.chat/l.js";
          s.async=1;
          d.getElementsByTagName("head")[0].appendChild(s);
      })();
    </script>
  <script>
      (function(e,t){var n=e.amplitude||{_q:[],_iq:{}};var r=t.createElement("script")
      ;r.type="text/javascript"
      ;r.integrity="sha384-d/yhnowERvm+7eCU79T/bYjOiMmq4F11ElWYLmt0ktvYEVgqLDazh4+gW9CKMpYW"
      ;r.crossOrigin="anonymous";r.async=true
      ;r.src="https://cdn.amplitude.com/libs/amplitude-5.2.2-min.gz.js"
      ;r.onload=function(){if(!e.amplitude.runQueuedFunctions){
      console.log("[Amplitude] Error: could not load SDK")}}
      ;var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)
      ;function s(e,t){e.prototype[t]=function(){
      this._q.push([t].concat(Array.prototype.slice.call(arguments,0)));return this}}
      var o=function(){this._q=[];return this}
      ;var a=["add","append","clearAll","prepend","set","setOnce","unset"]
      ;for(var u=0;u<a.length;u++){s(o,a[u])}n.Identify=o;var c=function(){this._q=[]
      ;return this}
      ;var l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"]
      ;for(var p=0;p<l.length;p++){s(c,l[p])}n.Revenue=c
      ;var d=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"]
      ;function v(e){function t(t){e[t]=function(){
      e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}
      for(var n=0;n<d.length;n++){t(d[n])}}v(n);n.getInstance=function(e){
      e=(!e||e.length===0?"$default_instance":e).toLowerCase()
      ;if(!n._iq.hasOwnProperty(e)){n._iq[e]={_q:[]};v(n._iq[e])}return n._iq[e]}
      ;e.amplitude=n})(window,document);

      amplitude.getInstance().init("b1e93a7d40b5ea629cf0abee212cb54c");
    </script>
    <meta property="article:modified_time" content="2019-11-29T16:55:14.000Z"><meta property="og:site_name" content="MeiliSearch Documentation"><meta property="og:title" content="Indexes"><meta property="og:type" content="website"><meta property="og:url" content="/main_concepts/newIndexes.html"><meta name="twitter:title" content="Indexes"><meta name="twitter:url" content="/main_concepts/newIndexes.html"><meta name="twitter:card" content="summary_large_image">
    <link rel="preload" href="/assets/css/0.styles.89be7601.css" as="style"><link rel="preload" href="/assets/js/app.ed96e511.js" as="script"><link rel="preload" href="/assets/js/2.67909cac.js" as="script"><link rel="preload" href="/assets/js/28.e481f0d6.js" as="script"><link rel="preload" href="/assets/js/4.ac6ecde2.js" as="script"><link rel="prefetch" href="/assets/js/10.9290291b.js"><link rel="prefetch" href="/assets/js/11.60a80121.js"><link rel="prefetch" href="/assets/js/12.e1e8c5ab.js"><link rel="prefetch" href="/assets/js/13.735d277e.js"><link rel="prefetch" href="/assets/js/14.48029108.js"><link rel="prefetch" href="/assets/js/15.c512c056.js"><link rel="prefetch" href="/assets/js/16.e8ac4a0b.js"><link rel="prefetch" href="/assets/js/17.48d80223.js"><link rel="prefetch" href="/assets/js/18.dda63397.js"><link rel="prefetch" href="/assets/js/19.d0b6ad8b.js"><link rel="prefetch" href="/assets/js/20.101b50a6.js"><link rel="prefetch" href="/assets/js/21.b36dbd89.js"><link rel="prefetch" href="/assets/js/22.c2c53ad8.js"><link rel="prefetch" href="/assets/js/23.281e2b78.js"><link rel="prefetch" href="/assets/js/24.9296eca0.js"><link rel="prefetch" href="/assets/js/25.820c40f2.js"><link rel="prefetch" href="/assets/js/26.5c8b5588.js"><link rel="prefetch" href="/assets/js/27.fe4ef9c8.js"><link rel="prefetch" href="/assets/js/29.8d29d2e3.js"><link rel="prefetch" href="/assets/js/3.ff2b9e50.js"><link rel="prefetch" href="/assets/js/30.60197d31.js"><link rel="prefetch" href="/assets/js/31.5faa68dc.js"><link rel="prefetch" href="/assets/js/32.db0769c6.js"><link rel="prefetch" href="/assets/js/33.982dbf50.js"><link rel="prefetch" href="/assets/js/34.27adc986.js"><link rel="prefetch" href="/assets/js/35.303a57ed.js"><link rel="prefetch" href="/assets/js/36.a667e425.js"><link rel="prefetch" href="/assets/js/37.e77e2a85.js"><link rel="prefetch" href="/assets/js/38.256ba44f.js"><link rel="prefetch" href="/assets/js/39.39661fcf.js"><link rel="prefetch" href="/assets/js/40.f11fc7ff.js"><link rel="prefetch" href="/assets/js/41.c5e9a7f4.js"><link rel="prefetch" href="/assets/js/42.2ac204b9.js"><link rel="prefetch" href="/assets/js/43.f6da0c46.js"><link rel="prefetch" href="/assets/js/44.36bb5eba.js"><link rel="prefetch" href="/assets/js/45.237c04b4.js"><link rel="prefetch" href="/assets/js/46.5f7d0e9c.js"><link rel="prefetch" href="/assets/js/5.0750f81c.js"><link rel="prefetch" href="/assets/js/6.327512dc.js"><link rel="prefetch" href="/assets/js/7.cca7378d.js"><link rel="prefetch" href="/assets/js/8.b793cecf.js"><link rel="prefetch" href="/assets/js/9.e23f422c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.89be7601.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="MeiliSearch Documentation" class="logo"> <span class="site-name can-hide">MeiliSearch Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/meilisearch/MeiliSearch" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/meilisearch/MeiliSearch" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/" class="sidebar-heading clickable router-link-active open"><span>ðŸš€ Getting started</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/getting_started/foreword.html" class="sidebar-link">Foreword</a></li><li><a href="/getting_started/quickstart.html" class="sidebar-link">Quick Start</a></li><li><a href="/getting_started/features.html" class="sidebar-link">Features</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/main_concepts/" class="sidebar-heading clickable router-link-active"><span>ðŸ’¡ Main concepts</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/main_concepts/indexes.html" class="sidebar-link">Indexes</a></li><li><a href="/main_concepts/documents.html" class="sidebar-link">Documents</a></li><li><a href="/main_concepts/search.html" class="sidebar-link">Search</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/advanced_guides/" class="sidebar-heading clickable"><span>ðŸ“š Advanced Guides</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/references/" class="sidebar-heading clickable"><span>ðŸ“’ API References</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="indexes"><a href="#indexes" class="header-anchor">#</a> Indexes</h1> <p>With the notion of index, that can be called table in SQL, we also have the notion of schema.</p> <p>The creation of an index requires the a schema definition for this index. For the moment no other information than a name and a schema are required for the creation of an index.</p> <h2 id="schema-definition"><a href="#schema-definition" class="header-anchor">#</a> Schema definition</h2> <p>A schema is a correspondence between all fields present in your documents and how these fields will be understood by our database.
We have some tags that should be associated with fields in the schema:</p> <ul><li><strong>identifier</strong>: The unique identifier of a document, must only be set on one field. This field is must be unique between documents.</li> <li><strong>indexed</strong>: Indexed fields feed our search engine.</li> <li><strong>stored</strong>: Displayed fields can be showed during searches. A non-displayed field will never appear in the search response.</li> <li><strong>ranked</strong>: Ranked fields are used to sort documents. <span class="badge warn" style="vertical-align:top;" data-v-c13ee5b0>soon</span></li></ul> <p>When no schema is given at the creation of an index the schema is inferred. <a href="/main_concepts/indexes.html#schema-definition">Inference follows strict rules to index correctly</a>.</p> <h3 id="example"><a href="#example" class="header-anchor">#</a> Example</h3> <p>Take for example a movie collection. We have several fields:</p> <ul><li><strong>id</strong>: The unique identifier of a movie (tag: identifier).</li> <li><strong>title</strong>: The most important field (tag: indexed). Surely printed on the front (tag: displayed).</li> <li><strong>description</strong>: Give much information about the movie (tag: indexed), perhaps we will show the first line of the description on the front (tag: displayed).</li> <li><strong>release_date</strong>: The release date can be used to sort movies (tag: ranked), but nobody will search precisely the release date of a film. It will be shown on the website (tag: displayed).</li> <li><strong>cover</strong>: The URL of the poster or the image related to the movie. Will be showed on the front (tag: displayed).</li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>The order of the document fields has a huge impact on the relevancy. So please order fields from the most important to the less.
You can read more about that on <a href="/main_concepts/documents.html">the documents page</a>.</p></div> <p><strong>This is the schema</strong>:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;identifier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;indexed&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;displayed&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;indexed&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;displayed&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;indexed&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;displayed&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;release_date&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ranked&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;displayed&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cover&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;displayed&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="updates"><a href="#updates" class="header-anchor">#</a> Updates</h2> <p>Since many of the meilisearch actions are asynchronous, their route returns an update identifier. This makes it possible to track the progress of the action.</p> <p>La mise Ã  jour renvoie les informations suivantes :</p> <ul><li><strong>status</strong> : State of the action (enqueued, processed )</li> <li><strong>update_id</strong> : Id of the update</li> <li><strong>update_type</strong> : Information about the action type</li> <li><strong>enqueued_at</strong> : Date at which the action has been added to the queue</li> <li><strong>processed_at</strong>: Date ate which the action has done processing.</li></ul> <h3 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h3> <p>Adding documents :</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enqueued&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_type&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DocumentsAddition&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;number&quot;</span><span class="token operator">:</span> <span class="token number">19652</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enqueued_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-11-13T14:51:22.857056Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Updating a schema :</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;processed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Schema&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">0.006275499</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enqueued_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-11-13T14:22:50.162113Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;processed_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-11-13T14:22:50.169012Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/meilisearch/documentation/edit/master/main_concepts/newIndexes.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/29/2019, 4:55:14 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ed96e511.js" defer></script><script src="/assets/js/2.67909cac.js" defer></script><script src="/assets/js/28.e481f0d6.js" defer></script><script src="/assets/js/4.ac6ecde2.js" defer></script>
  </body>
</html>

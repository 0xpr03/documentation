# Keys

The `keys` route allows you to create, manage, and delete API keys. In order to use these endpoints, the [master key must be set](/reference/features/configuration.md#master-key) and supplied in the header of the request.

[Learn more about managing keys and their rights](/reference/features/authentication.md).

## API key object definition

#### `description`

**Type:** string
**Modifiable:** yes
**Mandatory:** no

A description for the key. `null` if empty.

#### `key`

**Type:** string
**Modifiable:** no

An alphanumeric key value generated by MeiliSearch on API key creation. Used for authorization when making calls to a protected MeiliSearch instance.

This value is also used as the `:key` path variable to [get](#get-one-key), [update](#update-a-key), or [delete](#delete-a-key) a specific key.

**Example**:

```bash
curl \
  -X POST 'http://localhost:7700/indexes/products/documents' \
  -H 'Authorization: Bearer d0552b41536279a0ad88bd595327b96f01176a60c2243e906c52ac02375f9bc4'
  --data-binary '{
    "id": 1,
    "title": "Product 1",
    "description": "Our first product!"
    "price": 42
  }'
```

#### `actions`

**Type:** array
**Modifiable:** yes
**Mandatory:** yes

A list of API actions permitted for the key. `["*"]` for all actions.

The `*` character can also be used as a wildcard to get all permissions for a route, e.g. `documents.*` to authorize access to all document-related endpoints.

| name             | description |
|------------------|-------------|
| search           | Provides access to `GET` and `POST` methods on `/indexes/:authorizedIndexes/search` routes. |
| documents.add    | Provides access to `POST` and `PUT` on `/indexes/:authorizedIndexes/documents` routes. |
| documents.get    | Provides access to `GET` methods on `/indexes/:authorizedIndexes/documents` and `/indexes/:authorizedIndexes/documents/:documentId` routes. |
| documents.delete | Provides access to `DELETE` method on `/indexes/:authorizedIndexes/documents/:documentId`, `indexes/:authorizedIndexes/documents/:documentId` and `POST` method on `/indexes/:authorizedIndexes/documents/delete-batch` routes. |
| indexes.add      | Provides access to `POST` `/indexes`. **⚠️ The newly created index is automatically added to the permissions for the API key making the call, as well as all others keys having `[*]` as a value for `indexes`**. |
| indexes.get      | Provides access to `GET` `/indexes` and `/indexes/:authorizedIndexes`. **⚠️Non-authorized `indexes` are omitted from the response on `/indexes`**. |
| indexes.update   | Provides access to `PUT` `/indexes/:authorizedIndexes`. |
| indexes.delete   | Provides access to `DELETE` `/indexes/:authorizedIndexes`. |
| tasks.get        | Provides access to `GET` `/tasks`. **⚠️Non-authorized `indexes` are omitted from the response on `/tasks`**. Also add access to `GET` `/indexes/:authorizedIndexes/tasks` routes. |
| settings.get     | Provides access to `GET` `/indexes/:authorizedIndexes/settings` and `/indexes/:authorizedIndexes/settings/*` routes. |
| settings.update  | Provides access to `POST / DELETE` `/indexes/:authorizedIndexes/settings` and `/indexes/:authorizedIndexes/settings/*` routes. |
| stats.get        | Provides access to `GET` `/stats/`. **⚠️Non-authorized `indexes` are omitted from the response on `/stats`**. Also add access to `GET` `/indexes/:authorizedIndexes/stats`. |
| dumps.create     | Provides access to `POST` `/dumps` route. **As dumps are not scoped by indexes, a restriction on `indexes` does not affect this action.** |
| dumps.get        | Provides access to `GET` `/dumps/:dumpUid` route. **As dumps are not scoped by indexes, a restriction on `indexes` does not affect this action.** |
| version          | Provides access to `GET` `/version` route.

#### `indexes`

**Type:** array
**Modifiable:** yes
**Mandatory:** yes

A list of indexes permitted for the key. `["*"]` for all indexes.

#### `expiresAt`

**Type:** string
**Modifiable:** yes
**Mandatory:** yes

Expiration date and time of the key represented in **ISO-8601** format. `null` if the key never expires.

#### `createdAt`

**Type:** string
**Modifiable:** no

Date and time the key was created, represented in **ISO-8601** format.

#### `updatedAt`

**Type:** string
**Modifiable:** no

Date and time the key was last updated, represented in **ISO-8601** format.

## Get one key

<RouteHighlighter method="GET" route="/keys/:key"/>

Get information on the specified key.

### Example

<CodeSamples id="get_one_key_1" />

#### Response: `200 Ok`

```json
{
  "description": "Add documents: Products API key",
  "key": "d0552b41536279a0ad88bd595327b96f01176a60c2243e906c52ac02375f9bc4",
  "actions": [
    "documents.add"
  ],
  "indexes": [
    "products"
  ],
  "expiresAt": "2021-11-13T00:00:00Z",
  "createdAt": "2021-11-12T10:00:00Z",
  "updatedAt": "2021-11-12T10:00:00Z"
}
```

To learn more about the fields displayed here, take a look at the [API key object definition](#api-key-object-definition).

## Get all keys

<RouteHighlighter method="GET" route="/keys"/>

Get information on all API keys.

### Example

<CodeSamples id="get_all_keys_1" />

#### Response: `200 Ok`

```json
{
  "results": [
    {
      "description": "Manage documents: Products/Reviews API key",
      "key": "d0552b41536279a0ad88bd595327b96f01176a60c2243e906c52ac02375f9bc4",
      "actions": [
        "documents.add",
        "documents.delete"
      ],
      "indexes": [
        "products",
        "reviews"
      ],
      "expiresAt": "2021-12-31T23:59:59Z",
      "createdAt": "2021-10-12T00:00:00Z",
      "updatedAt": "2021-10-13T15:00:00Z"
    },
    {
      "description": "Default Search API Key (Use it to search from the frontend code)",
      "key": "0a6e572506c52ab0bd6195921575d23092b7f0c284ab4ac86d12346c33057f99",
      "actions": [
        "search"
      ],
      "indexes": [
        "*"
      ],
      "expiresAt": null,
      "createdAt": "2021-08-11T10:00:00Z",
      "updatedAt": "2021-08-11T10:00:00Z"
    },
    {
      "description": "Default Admin API Key (Use it for all other operations. Caution! Do not share it on the client side)",
      "key": "380689dd379232519a54d15935750cc7625620a2ea2fc06907cb40ba5b421b6f",
      "actions": [
        "*"
      ],
      "indexes": [
        "*"
      ],
      "expiresAt": null,
      "createdAt": "2021-08-11T10:00:00Z",
      "updatedAt": "2021-08-11T10:00:00Z"
    }
  ]
}
```

To learn more about the fields displayed here, take a look at the [API key object definition](#api-key-object-definition).

## Create a key

<RouteHighlighter method="POST" route="/keys/:key"/>

Create an API key with the provided description, permissions, and expiration date.

Only the `indexes`, `actions`, and `expiresAt` fields are mandatory. For more information, take a look at the [API key object definition](#api-key-object-definition).

### Example

<CodeSamples id="create_a_key_1" />

#### Response: `201 Created`

```json
{
    "description": "Add documents: Products API key",
    "key": "d0552b41536279a0ad88bd595327b96f01176a60c2243e906c52ac02375f9bc4",
    "actions": [
        "documents.add"
    ],
    "indexes": ["products"],
    "expiresAt": "2021-11-13T00:00:00Z",
    "createdAt": "2021-11-12T10:00:00Z",
    "updatedAt": "2021-11-12T10:00:00Z"
}
```

To learn more about the fields displayed here, take a look at the [API key object definition](#api-key-object-definition).

## Update a key

<RouteHighlighter method="PATCH" route="/keys/:key"/>

Update the description, permissions, and/or expiration date of an API key.

You do not have to reproduce the API key object in the payload. **Provide only the fields you intend to update.**

### Example

<CodeSamples id="update_a_key_1" />

#### Response: `200 Ok`

```json
{
    "description": "Manage documents: Products/Reviews API key",
    "key": "d0552b41536279a0ad88bd595327b96f01176a60c2243e906c52ac02375f9bc4",
    "actions": [
        "documents.add",
        "documents.delete"
    ],
    "indexes": [
        "products",
        "reviews"
    ],
    "expiresAt": "2021-12-31T23:59:59Z",
    "createdAt": "2021-11-12T10:00:00Z",
    "updatedAt": "2021-10-12T15:00:00Z"
}
```

To learn more about the fields displayed here, take a look at the [API key object definition](#api-key-object-definition).

## Delete a key

<RouteHighlighter method="DELETE" route="/keys/:key"/>

Delete the specified API key.

### Example

<CodeSamples id="delete_a_key_1" />

#### Response: `204 No Content`

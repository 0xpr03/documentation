(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{396:function(a,s,e){"use strict";e.r(s);var t=e(8),o=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"safeguards"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#safeguards"}},[a._v("#")]),a._v(" Safeguards")]),a._v(" "),e("p",[a._v("MeiliSearch has only one way to save its data as of today: Snapshots.")]),a._v(" "),e("h2",{attrs:{id:"snapshots"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#snapshots"}},[a._v("#")]),a._v(" Snapshots")]),a._v(" "),e("p",[a._v("A snapshot is an exact copy of the database at the time the snapshot was created. Snapshots do not go through any processing."),e("br"),a._v("\nWith it, it is possible to create and restore MeiliSearch from snapshots and schedule snapshot creation at custom intervals.")]),a._v(" "),e("h3",{attrs:{id:"creating-snapshots"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-snapshots"}},[a._v("#")]),a._v(" Creating Snapshots")]),a._v(" "),e("p",[a._v("For MeiliSearch to create snapshots, the feature must be enabled by specifying a path to the directory in which snapshots will be saved.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ meilisearch --snapshot-path mySnapShots/\n")])])]),e("p",[a._v("By default, MeiliSearch schedules a snapshot creation every day. When the instance starts, it will wait 24 hours until the first snapshot. This means that if you have launched MeiliSearch on Tuesday at 4 pm, the first snapshot will be created on Wednesday at 4 pm, and so on every day.")]),a._v(" "),e("p",[a._v("The schedule can be modified with the "),e("code",[a._v("--snapshot-interval-sec")]),a._v(" flag.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ meilisearch --snapshot-path mySnapShots/ --snapshot-interval-sec "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3600")]),a._v("\n")])])]),e("p",[a._v("Now a snapshot will be created every hour.")]),a._v(" "),e("p",[a._v("During snapshot creation, snapshots are "),e("strong",[a._v("overwritten")]),a._v(". Meaning, only the last snapshot will be present in the folder.")]),a._v(" "),e("p",[e("RouterLink",{attrs:{to:"/guides/advanced_guides/configuration.html#schedule-snapshot-creation"}},[a._v("[More about snapshots flags and env variables]")])],1),a._v(" "),e("h3",{attrs:{id:"start-from-snapshot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#start-from-snapshot"}},[a._v("#")]),a._v(" Start from Snapshot")]),a._v(" "),e("p",[a._v("Because snapshots are zipped copies of your database that did not go through any processing, starting a MeiliSearch instance from one of them is significantly faster.")]),a._v(" "),e("p",[a._v("Using the global environment "),e("code",[a._v("MEILI_LOAD_FROM_SNAPSHOT")]),a._v(" or the CLI flag "),e("code",[a._v("--load-from-snapshot")]),a._v(" , MeiliSearch will start the server using the provided snapshot.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ meilisearch --load-from-snapshot mySnapShots/data.ms.tar.gz\n")])])]),e("p",[a._v("If a database already exists, or if no snapshot is found at the given path, MeiliSearch will "),e("strong",[a._v("stop processing and throw an error")]),a._v(".")]),a._v(" "),e("p",[a._v("To ignore either one of these errors, you can add the following flags: "),e("code",[a._v("--ignore-missing-snapshot")]),a._v(" and/or "),e("code",[a._v("--ignore-snapshot-if-db-exists")]),a._v(".")]),a._v(" "),e("p",[e("RouterLink",{attrs:{to:"/guides/advanced_guides/configuration.html#schedule-snapshot-creation"}},[a._v("[More about snapshots flags and env variables]")])],1),a._v(" "),e("h3",{attrs:{id:"use-cases"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-cases"}},[a._v("#")]),a._v(" Use Cases")]),a._v(" "),e("p",[e("strong",[a._v("Snapshots are safeguards in case of problems")]),a._v(". If your MeiliSearch instance encounters a problem or if you have done a mistake while manipulating your database, restarting your instance with the latest snapshot is an easy way to recover your data.")]),a._v(" "),e("h3",{attrs:{id:"version-compatibilities"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#version-compatibilities"}},[a._v("#")]),a._v(" Version Compatibilities")]),a._v(" "),e("p",[a._v("Since a snapshot is a replica of your database, it will restore it only if your MeiliSearch runs on the version it has been created on.")]),a._v(" "),e("p",[a._v("For backups compatibility between different versions, we can't wait to show you our next feature: backups ðŸ˜‰.")]),a._v(" "),e("h2",{attrs:{id:"backups"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#backups"}},[a._v("#")]),a._v(" Backups")]),a._v(" "),e("p",[a._v("Coming soon!")])])}),[],!1,null,null,null);s.default=o.exports}}]);
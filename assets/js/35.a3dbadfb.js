(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{404:function(e,t,a){"use strict";a.r(t);var s=a(8),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"documents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#documents"}},[e._v("#")]),e._v(" Documents")]),e._v(" "),a("p",[a("strong",[e._v("Documents")]),e._v(" are objects composed of fields which can store any type of data."),a("br"),a("br"),e._v("\nEach "),a("strong",[e._v("field")]),e._v(" contains an "),a("strong",[e._v("attribute")]),e._v(" and its associated "),a("strong",[e._v("value")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:"/document_structure.svg",alt:"document structure"}})]),e._v(" "),a("h4",{attrs:{id:"wording"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wording"}},[e._v("#")]),e._v(" Wording")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Document")]),e._v(": A document is an object which contains a list of fields in curly brackets.")]),e._v(" "),a("li",[a("strong",[a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#fields"}},[e._v("Field")])],1),e._v(": A field, or a key-value pair, is a set of two data items linked together: an attribute and its corresponding value.")]),e._v(" "),a("li",[a("strong",[e._v("Attribute")]),e._v(": An attribute is the name of a field, like a key.")]),e._v(" "),a("li",[a("strong",[a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#primary-key"}},[e._v("Primary key")])],1),e._v(": The attribute of the field which contains the unique identifier of the documents.")]),e._v(" "),a("li",[a("strong",[a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#document-id"}},[e._v("Document id")])],1),e._v(": A document id is the value associated to the primary key attribute. Values in that field must always be "),a("strong",[e._v("unique")]),e._v(".")])]),e._v(" "),a("h4",{attrs:{id:"example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[e._v("#")]),e._v(" Example")]),e._v(" "),a("p",[e._v("Given an "),a("strong",[e._v("index")]),e._v(" that contains information about movies. There would be "),a("strong",[e._v("documents")]),e._v(" with the following "),a("strong",[e._v("attributes")]),e._v(":"),a("code",[e._v('"id"')]),e._v(", "),a("code",[e._v('"title"')]),e._v(", "),a("code",[e._v('"description"')]),e._v(" and "),a("code",[e._v('"type"')]),e._v(", a "),a("strong",[e._v("field")]),e._v(" is the association of an attribute and its "),a("strong",[e._v("value")]),e._v(": "),a("code",[e._v('"title": "Kung fu Panda"')]),e._v(".")]),e._v(" "),a("p",[e._v("Each document contains at least the "),a("strong",[e._v("primary key")]),e._v(" attribute : "),a("code",[e._v("id")]),e._v(" with its associated value, the "),a("strong",[e._v("document id")]),e._v(": "),a("code",[e._v('"id": "123456"')])]),e._v(" "),a("h2",{attrs:{id:"structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#structure"}},[e._v("#")]),e._v(" Structure")]),e._v(" "),a("p",[e._v("Documents are sent to MeiliSearch in "),a("code",[e._v("JSON format")]),e._v("."),a("br"),e._v("\nWhen using the "),a("RouterLink",{attrs:{to:"/references/documents.html#add-or-update-documents"}},[e._v("route to add new documents")]),e._v(", all documents must be sent in an array "),a("strong",[e._v("even if there is only one document")]),e._v(".")],1),e._v(" "),a("code-samples",{attrs:{id:"documents_guide_add_movie_1"}}),e._v(" "),a("p",[e._v("In order to be indexed, each "),a("strong",[e._v("document must contain")]),e._v(" "),a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#primary-key"}},[e._v("the primary key field")]),e._v(".")],1),e._v(" "),a("h2",{attrs:{id:"fields"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fields"}},[e._v("#")]),e._v(" Fields")]),e._v(" "),a("ul",[a("li",[a("strong",[a("RouterLink",{attrs:{to:"/guides/advanced_guides/datatypes.html"}},[e._v("Data type")])],1),e._v(": A field's data type determines what kind of data can be stored in that field.")]),e._v(" "),a("li",[a("strong",[a("RouterLink",{attrs:{to:"/guides/advanced_guides/field_properties.html"}},[e._v("Field properties")])],1),e._v(": Field properties determines the characteristics and behavior of the data added to that field.")])]),e._v(" "),a("p",[e._v("By default, all fields included in a document are "),a("clientGlossary",{attrs:{word:"searchable"}}),e._v(" and "),a("clientGlossary",{attrs:{word:"displayed"}}),e._v("."),a("br"),e._v("\nYou can adjust how a field get handled by MeiliSearch in the settings. It can either be searchable or displayed, both, or none of both. In the latter case, the field will be completely ignored when a document is sent.")],1),e._v(" "),a("p",[e._v("You can also apply "),a("clientGlossary",{attrs:{word:"ranking rules"}}),e._v(" to some fields. For example, you may decide recent movies should be more relevant than older ones.")],1),e._v(" "),a("h2",{attrs:{id:"primary-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#primary-key"}},[e._v("#")]),e._v(" Primary key")]),e._v(" "),a("p",[e._v("A primary key is an "),a("clientGlossary",{attrs:{word:"attribute"}}),e._v(" which contains a unique value. It uniquely identifies each of the documents of a given index in order to store them. Therefore, values in that field must always be "),a("strong",[e._v("unique")]),e._v(".")],1),e._v(" "),a("p",[e._v("Each index recognizes "),a("strong",[e._v("only one")]),e._v(" primary key attribute. Once a "),a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#setting-the-primary-key"}},[e._v("primary key has been set for an index")]),e._v(", it "),a("strong",[e._v("cannot be changed anymore")]),e._v(".")],1),e._v(" "),a("p",[e._v("If no "),a("strong",[e._v("primary key")]),e._v(" is found in a document, the document will not be stored.")]),e._v(" "),a("p",[a("strong",[e._v("Example:")])]),e._v(" "),a("p",[e._v("Suppose we have an index of 200k "),a("code",[e._v("documents")]),e._v(" called "),a("code",[e._v("movie")]),e._v(". Each document is identified by a primary key named "),a("code",[e._v("movie_id")]),e._v(" whose value is unique as shown below.")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"movie_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1564saqw12ss"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Kung fu Panda"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"movie_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"15k1j2kkw223s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Batman"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),a("h3",{attrs:{id:"setting-the-primary-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-the-primary-key"}},[e._v("#")]),e._v(" Setting the primary key")]),e._v(" "),a("p",[e._v("There are several ways for MeiliSearch to know which field is the "),a("code",[e._v("primary key")]),e._v(" in several ways.")]),e._v(" "),a("ul",[a("li",[e._v("MeiliSearch "),a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#meilisearch-infers-your-primary-key"}},[e._v("automatically infers the primary key")]),e._v(" based on your first document.")],1),e._v(" "),a("li",[e._v("Set it "),a("RouterLink",{attrs:{to:"/references/indexes.html#create-an-index"}},[e._v("on index creation")])],1),e._v(" "),a("li",[e._v("Set it "),a("RouterLink",{attrs:{to:"/references/documents.html#add-or-replace-documents"}},[e._v("on document addition")])],1)]),e._v(" "),a("h4",{attrs:{id:"meilisearch-infers-your-primary-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#meilisearch-infers-your-primary-key"}},[e._v("#")]),e._v(" MeiliSearch infers your primary key")]),e._v(" "),a("p",[e._v("If no primary key has been given either when the index was created or as a parameter of the add documents route, the primary key will be searched in the first document sent.")]),e._v(" "),a("p",[e._v("MeiliSearch will search for an attribute that contains the string "),a("code",[e._v("id")]),e._v(" in a case-insensitive manner (i.e, "),a("code",[e._v("uid")]),e._v(", "),a("code",[e._v("MovieId")]),e._v(", "),a("code",[e._v("ID")]),e._v(", "),a("code",[e._v("123id123")]),e._v(")."),a("br"),e._v("\nIf no corresponding attribute has been found, the index will have no known primary key, and therefore, no documents will be added.")]),e._v(" "),a("h4",{attrs:{id:"missing-primary-key-error"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#missing-primary-key-error"}},[e._v("#")]),e._v(" Missing primary key error")]),e._v(" "),a("p",[e._v("❗️ If you get the "),a("code",[e._v("Could not infer a primary key")]),e._v(" error, the primary key was not recognized. This means your primary key is wrongly formatted. Sending the "),a("RouterLink",{attrs:{to:"/references/documents.html#add-or-replace-documents"}},[e._v("primary key's name as a query parameter")]),e._v(" or "),a("RouterLink",{attrs:{to:"/references/indexes.html#create-an-index"}},[e._v("updating your index to add the primary key's name")]),e._v(" as explained in "),a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#primary-key"}},[e._v("setting the primary key")]),e._v(" should solve this issue.")],1),e._v(" "),a("h3",{attrs:{id:"document-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#document-id"}},[e._v("#")]),e._v(" Document Id")]),e._v(" "),a("p",[e._v("The document id is the "),a("strong",[e._v("value")]),e._v(" associated to the "),a("clientGlossary",{attrs:{word:"primary key"}}),e._v(".")],1),e._v(" "),a("p",[e._v("The document id must contain only "),a("code",[e._v("A-Z a-z 0-9")]),e._v(" and "),a("code",[e._v("-_")]),e._v(" characters.")]),e._v(" "),a("h4",{attrs:{id:"examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),a("p",[e._v("Good:")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"_Aabc012_"')]),e._v("\n")])])]),a("p",[e._v("Bad:")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"@BI+* ^5h2%"')]),e._v("\n")])])]),a("p",[e._v("The document addition request in MeiliSearch is "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Atomicity_(database_systems)",target:"_blank",rel:"noopener noreferrer"}},[e._v("atomic"),a("OutboundLink")],1),e._v(". Thus, for example, if you submit 200 documents in one go and it happens one of them contains a wrongly formatted document id, an error will occur and result in no additions.")])],1)}),[],!1,null,null,null);t.default=r.exports}}]);
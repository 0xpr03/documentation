(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{240:function(e,t,s){"use strict";s.r(t);var a=s(0),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"indexes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#indexes"}},[e._v("#")]),e._v(" Indexes")]),e._v(" "),s("p",[e._v("An "),s("code",[e._v("index")]),e._v(" is an entity, like a "),s("em",[e._v("table in SQL")]),e._v(", with a specific "),s("code",[e._v("schema")]),e._v(" definition. It gathers a collection of "),s("code",[e._v("documents")]),e._v(" with the structure defined by the schema.")]),e._v(" "),s("p",[e._v("An "),s("strong",[e._v("index is defined")]),e._v(" by an unique identifier "),s("code",[e._v("uid")]),e._v(" that is generated by MeiliSearch on "),s("router-link",{attrs:{to:"/references/indexes.html#create-an-index"}},[e._v("index creation")]),e._v(". It also has "),s("strong",[e._v("a name")]),e._v(" to help you track your different indexes.")],1),e._v(" "),s("h2",{attrs:{id:"index-uid-and-name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#index-uid-and-name"}},[e._v("#")]),e._v(" Index UID and name")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("uid")]),e._v(" of an index is its unique identifier. It is the "),s("code",[e._v(":uid")]),e._v(" parameter on every "),s("code",[e._v("indexes/:uid")]),e._v(" route.")]),e._v(" "),s("p",[e._v("The "),s("strong",[e._v("name is the only mandatory information")]),e._v(" needed on "),s("router-link",{attrs:{to:"/references/indexes.html#create-an-index"}},[e._v("index creation")]),e._v(".")],1),e._v(" "),s("p",[e._v("It helps you track your different indexes with a human-readable name.")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Movie"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"uid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"12345678"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"createdAt"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"2019-11-20T09:40:33.711324Z"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"updatedAt"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"2019-11-20T10:16:42.761858Z"')]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("h2",{attrs:{id:"schema-definition"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#schema-definition"}},[e._v("#")]),e._v(" Schema definition")]),e._v(" "),s("p",[s("strong",[e._v("A schema is a representation of the attributes of the document and how MeiliSearch will handle these fields.")])]),e._v(" "),s("p",[e._v("In the schema definition, each attribute has one or multiple of the following tags :")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("identifier")]),e._v(": The unique identifier of a document (e.g "),s("code",[e._v("id")]),e._v(")")]),e._v(" "),s("li",[s("strong",[e._v("indexed")]),e._v(": the search engine will search inside those fields.")]),e._v(" "),s("li",[s("strong",[e._v("displayed")]),e._v(": Fields that will appear in the returned documents.")]),e._v(" "),s("li",[s("strong",[e._v("ranked")]),e._v(": Ranked fields are used to create ranking rules.")])]),e._v(" "),s("p",[e._v("As a result, it is possible to have indexed fields that are not displayed or displayed fields that are not indexed. Depending on your documents and your needs, this could be useful.")]),e._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),s("p",[e._v("The only mandatory document field is the "),s("strong",[e._v("identifier")]),e._v(".")])]),e._v(" "),s("h3",{attrs:{id:"fields-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fields-order"}},[e._v("#")]),e._v(" Fields order")]),e._v(" "),s("p",[e._v("The "),s("strong",[e._v("order of the fields represents their relevance")]),e._v(" in the search engine.")]),e._v(" "),s("p",[e._v("Thus, if a "),s("code",[e._v("title")]),e._v(" field is defined before a "),s("code",[e._v("description")]),e._v(' field, its content will be considered more relevant to a search query than that of a "description" field.\n')]),e._v(" "),s("p",[e._v("This means that if you search for something that matches in the "),s("code",[e._v("description")]),e._v(" of the document "),s("em",[e._v("A")]),e._v(" and in the "),s("code",[e._v("title")]),e._v(" of the document "),s("em",[e._v("B")]),e._v(",\nthe document "),s("em",[e._v("B")]),e._v(" will be considered better than the document "),s("em",[e._v("A")]),e._v(". You can read more about these rules "),s("router-link",{attrs:{to:"/advanced_guides/ranking.html#ranking-rules"}},[e._v("in the ranking section")]),e._v(".")],1),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("The "),s("strong",[e._v("order of the document fields has a huge impact on the relevancy")]),e._v(". So please order fields from the most important to the less.")])]),e._v(" "),s("h3",{attrs:{id:"example"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[e._v("#")]),e._v(" Example")]),e._v(" "),s("p",[e._v("Take, for example, a movie collection. We have several fields:")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("id")]),e._v(": The unique identifier of a movie.")]),e._v(" "),s("li",[s("strong",[e._v("title")]),e._v(": Title of the movie, will be showcased")]),e._v(" "),s("li",[s("strong",[e._v("description")]),e._v(": A description of the movie.")]),e._v(" "),s("li",[s("strong",[e._v("release_date")]),e._v(": The release date of the movies.")]),e._v(" "),s("li",[s("strong",[e._v("poster")]),e._v(": The URL of the poster or the image related to the movie.")])]),e._v(" "),s("p",[e._v("This is the "),s("strong",[e._v("schema")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"identifier"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"indexed"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"displayed"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"indexed"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"displayed"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"indexed"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"displayed"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"release_date"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ranked"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"displayed"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"poster"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"displayed"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("p",[e._v("The fields are "),s("router-link",{attrs:{to:"/main_concepts/indexes.html#fields-order"}},[e._v("sorted by relevancy importance")]),e._v(".")],1),e._v(" "),s("p",[e._v("The "),s("code",[e._v("id")]),e._v(" field is the unique identifier of a movie document. We want to display it ("),s("em",[e._v("displayed")]),e._v(") and give the possibility to users to search for the movie using his ID ("),s("em",[e._v("indexed")]),e._v(").")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("title")]),e._v(" field is an important field, which is why it is ranked second in the order of fields. We want\nour search queries to search inside this field ("),s("em",[e._v("indexed")]),e._v("), and we also want to showcase it to the user ("),s("em",[e._v("displayed")]),e._v(").")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("description")]),e._v(" field is exactly like the title field. Its 3rd position in the order of the fields puts it after "),s("code",[e._v("Title")]),e._v(" in relevancy.")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("release_date")]),e._v(" field is not indexed because the user does not usually search for a precise date. With the "),s("em",[e._v("ranked")]),e._v(" tag, we can create a custom ranking rule\nthat will make the recent movies more relevant than the older ones in the search engine.")]),e._v(" "),s("p",[e._v("Finally, the "),s("code",[e._v("poster")]),e._v(" field contains the image URL to the movie's poster. We do not want to search inside the URL, that's why we omitted the "),s("code",[e._v("indexed")]),e._v(" tag.")]),e._v(" "),s("p",[e._v("When no schema is given at the creation of an index, the schema is inferred. "),s("router-link",{attrs:{to:"/main_concepts/indexes.html#schema-definition"}},[e._v("Inference follows strict rules to index correctly")]),e._v(".")],1),e._v(" "),s("h2",{attrs:{id:"identifier"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#identifier"}},[e._v("#")]),e._v(" Identifier")]),e._v(" "),s("p",[e._v("This tag is given to the attribute that contains the "),s("strong",[e._v("unique key of each document")]),e._v(".")]),e._v(" "),s("p",[e._v("If two documents added at the same time have the same ID, MeiliSearch will only save the last one.")]),e._v(" "),s("p",[e._v("If a document is added when there is already a document with the same ID in MeiliSearch, it will be updated.")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("Documents identifiers are always converted into strings. Only strings and integers are valid identifiers.\nIt means that it is, for example, forbidden to use arrays or objects as an identifier.")])]),e._v(" "),s("h2",{attrs:{id:"indexed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#indexed"}},[e._v("#")]),e._v(" Indexed")]),e._v(" "),s("p",[e._v("It defines the fields that will be used to find the documents.")]),e._v(" "),s("p",[e._v("For example, an "),s("code",[e._v("url")]),e._v(" field is not necessarily interesting for the search engine. So by omitting this tag, the "),s("code",[e._v("url")]),e._v(" will not be indexed but can still be returned inside the documents with the "),s("code",[e._v("displayed")]),e._v(" tag.")]),e._v(" "),s("h2",{attrs:{id:"displayed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#displayed"}},[e._v("#")]),e._v(" Displayed")]),e._v(" "),s("p",[e._v("It defines the fields that will be returned when querying MeiliSearch. A non-displayed field will never appear in the search response.")]),e._v(" "),s("p",[e._v("For example, if the field contains a large amount of data, returning it would slow down server returns. By not storing it but still indexing it, the data will be used by the search engine but not returned in the documents.")]),e._v(" "),s("h2",{attrs:{id:"ranked"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ranked"}},[e._v("#")]),e._v(" Ranked")]),e._v(" "),s("p",[e._v("This tag allows the creation of a custom ranking rule. See "),s("router-link",{attrs:{to:"/advanced_guides/ranking.html#custom-ranking-rules"}},[e._v("custom ranking rules")]),e._v(" for more information.")],1),e._v(" "),s("h2",{attrs:{id:"inferred-schema"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inferred-schema"}},[e._v("#")]),e._v(" Inferred Schema")]),e._v(" "),s("p",[e._v("When creating an index, MeiliSearch expects a name for the index and a schema definition. "),s("strong",[e._v("If no schema is defined before adding documents, the schema will be inferred")]),e._v(".")]),e._v(" "),s("p",[e._v("The inference of the schema is based on the first document added to MeiliSearch. Then, by following the inference rules, the schema will be created.")]),e._v(" "),s("h3",{attrs:{id:"inference-rules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inference-rules"}},[e._v("#")]),e._v(" Inference rules")]),e._v(" "),s("p",[e._v("The schema is inferred this way:")]),e._v(" "),s("ul",[s("li",[e._v("the "),s("strong",[e._v("order of the fields")]),e._v(" is the order of the schema fields")]),e._v(" "),s("li",[e._v("the "),s("strong",[e._v("identifier")]),e._v(" is the first field containing "),s("code",[e._v('"id"')]),e._v(" (case insensitive)")]),e._v(" "),s("li",[e._v("every field is "),s("code",[e._v("indexed")]),e._v(" and "),s("code",[e._v("displayed")])])]),e._v(" "),s("p",[e._v("The order of the fields inside the document will "),s("router-link",{attrs:{to:"/main_concepts/indexes.html#fields-order"}},[e._v("determine their relevance in the search engine")]),e._v(".")],1),e._v(" "),s("p",[e._v("To determine the identifier, an attribute that contains the case insensitive string "),s("code",[e._v("id")]),e._v(" is expected. Thus, "),s("code",[e._v("_id")]),e._v(", "),s("code",[e._v("myId")]),e._v(", for example, are correct keys.")]),e._v(" "),s("p",[e._v("This field will receieve the "),s("router-link",{attrs:{to:"/main_concepts/indexes.html#identifier"}},[e._v("identifier")]),e._v(" tag, so it should contain the unique identifier of a document.")],1),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),s("p",[e._v("If the "),s("code",[e._v("identifier")]),e._v(" field is missing, the inference will not be completed, and the "),s("strong",[e._v("documents will not be added")]),e._v(".")])]),e._v(" "),s("p",[e._v("Every other field will have the "),s("code",[e._v("indexed")]),e._v(" and "),s("code",[e._v("displayed")]),e._v(" tags.")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("By default, the Meili dashboard infers the schema from the "),s("strong",[e._v("first")]),e._v(" document sent.")])])])}),[],!1,null,null,null);t.default=n.exports}}]);
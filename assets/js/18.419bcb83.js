(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{232:function(e,t,r){"use strict";r.r(t);var a=r(0),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"ranking"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ranking"}},[e._v("#")]),e._v(" Ranking")]),e._v(" "),r("p",[e._v("MeiliSearch uses ranking rules. We talk about one "),r("code",[e._v("criterion")]),e._v(" (singular) and many "),r("code",[e._v("criteria")]),e._v(" (plural). They are used in the "),r("RouterLink",{attrs:{to:"/guides/advanced_guides/bucket_sort.html"}},[e._v("bucket sort")])],1),e._v(" "),r("h2",{attrs:{id:"ranking-rules"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ranking-rules"}},[e._v("#")]),e._v(" Ranking rules")]),e._v(" "),r("p",[e._v("MeiliSearch has default "),r("code",[e._v("criteria")]),e._v(".")]),e._v(" "),r("p",[e._v("Here is the list of all the "),r("code",[e._v("criteria")]),e._v(" that are executed in this specific order by default:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("Number of Typos")]),e._v(" - The less typos there are beween the query words and the document words, the better is the document.")]),e._v(" "),r("li",[r("code",[e._v("Number of Words")]),e._v(" - A document containing more of the query words will be more important than one that contains less.")]),e._v(" "),r("li",[r("code",[e._v("Words Proximity")]),e._v(" - The closer the query words are in the document the better is the document.")]),e._v(" "),r("li",[r("code",[e._v("Attribute")]),e._v(" - A document containing the query words in a more important attribute than another document is considered better.")]),e._v(" "),r("li",[r("code",[e._v("Position")]),e._v(" - A document containing the query words at the start of an attribute is considered better than a document that contains them at the end.")]),e._v(" "),r("li",[r("code",[e._v("Exact")]),e._v(" - A document containing the query words in their exact form, not only a prefix of them, is considered better.")])]),e._v(" "),r("h2",{attrs:{id:"custom-ranking-rules"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#custom-ranking-rules"}},[e._v("#")]),e._v(" Custom ranking rules")]),e._v(" "),r("p",[e._v("Custom ranking rules gives you the possibility to add new rules. New rules can be added on attributes that has the "),r("code",[e._v("ranked")]),e._v(" tag in the "),r("RouterLink",{attrs:{to:"/guides/main_concepts/indexes.html#ranked"}},[e._v("schema")]),e._v(".")],1),e._v(" "),r("p",[e._v("A rule is defined by an "),r("strong",[e._v("attribute")]),e._v(" and a "),r("strong",[e._v("ascendent")]),e._v(" "),r("code",[e._v("asc")]),e._v(" or "),r("strong",[e._v("descendent")]),e._v(" "),r("code",[e._v("dsc")]),e._v(" property.")]),e._v(" "),r("p",[e._v("The name of the ranking rule is the name of the attribute on which the rule is made.")]),e._v(" "),r("p",[e._v("For those rules to be applied by MeiliSearch on your search queries, they must be added to the "),r("RouterLink",{attrs:{to:"/guides/advanced_guides/ranking.html#ranking-order"}},[e._v("ranking order")]),e._v(".")],1),e._v(" "),r("div",{staticClass:"custom-block warning"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[e._v("If the rule is not added to the rule ranking order, it will be "),r("strong",[e._v("ignored")]),e._v(" by MeiliSearch.")])]),e._v(" "),r("h3",{attrs:{id:"example"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[e._v("#")]),e._v(" Example")]),e._v(" "),r("p",[e._v("On the "),r("code",[e._v("release_date")]),e._v(" attribute of a movie data set, which contains the timestamp of the release date.")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v(" $ "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -X POST "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("'http://localhost:7700/indexes/movies/settings'")]),e._v("\n  --data "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'{ "rankingRules": { "release_date": "dsc" } }\'')]),e._v("\n")])])]),r("p",[e._v("We create a custom ranking rule that must have the attribute name as key: "),r("code",[e._v("release_date")]),e._v(" and we ask it to be "),r("code",[e._v("dsc")]),e._v(" which means "),r("em",[e._v("descending")]),e._v(".")]),e._v(" "),r("p",[e._v("Now if added to the ranking order documents will be ordered by descending release_date.")]),e._v(" "),r("h2",{attrs:{id:"ranking-order"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ranking-order"}},[e._v("#")]),e._v(" Ranking order")]),e._v(" "),r("p",[e._v("The ranking order determines the order of each rule in the "),r("RouterLink",{attrs:{to:"/guides/advanced_guides/bucket_sort.html"}},[e._v("bucket sort")]),e._v(".")],1),e._v(" "),r("p",[e._v("The default ranking order is as follows ("),r("RouterLink",{attrs:{to:"/guides/advanced_guides/ranking.html#ranking-rules"}},[r("em",[e._v("see above for more detail about each rule")])]),e._v("):")],1),e._v(" "),r("ul",[r("li",[r("code",[e._v("Number of Typos")])]),e._v(" "),r("li",[r("code",[e._v("Number of Words")])]),e._v(" "),r("li",[r("code",[e._v("Words Proximity")])]),e._v(" "),r("li",[r("code",[e._v("Attribute")])]),e._v(" "),r("li",[r("code",[e._v("Position")])]),e._v(" "),r("li",[r("code",[e._v("Exact")])])]),e._v(" "),r("p",[r("RouterLink",{attrs:{to:"/references/settings.html#ranking-rules"}},[e._v("The ranking order can be changed")]),e._v(". Rules can be removed by omitting them in the ranking order list, and custom rules must be added in the ranking order list to be applied.")],1),e._v(" "),r("p",[e._v("Each time you create "),r("strong",[e._v("a new ranking rule it must be added to the existing ranking order to be applied")]),e._v(" by the "),r("RouterLink",{attrs:{to:"/guides/advanced_guides/bucket_sort.html"}},[e._v("bucket sort")]),e._v(".")],1),e._v(" "),r("h3",{attrs:{id:"example-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#example-2"}},[e._v("#")]),e._v(" Example")]),e._v(" "),r("p",[e._v("To apply the "),r("RouterLink",{attrs:{to:"/guides/advanced_guides/ranking.html#custom-ranking-rules"}},[e._v("custom ranking rule added previously")]),e._v(", let's add it to the ranking order.")],1),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("$ "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -X POST "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("'http://localhost:7700/indexes/movies/settings'")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --data "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'{\n  "rankingOrder": [\n    "_sum_of_typos",\n    "_number_of_words",\n    "_word_proximity",\n    "_sum_of_words_attribute",\n    "_sum_of_words_position",\n    "_exact",\n    "release_date"\n  ]\n}\'')]),e._v("\n")])])]),r("p",[e._v("Now, our "),r("strong",[e._v("search results will be ordered by descending date")]),e._v(" after all other rules have been applied in the "),r("RouterLink",{attrs:{to:"/guides/advanced_guides/bucket_sort.html"}},[e._v("bucket sort")]),e._v(".")],1)])}),[],!1,null,null,null);t.default=s.exports}}]);
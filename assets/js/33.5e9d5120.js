(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{315:function(e,t,a){"use strict";a.r(t);var s=a(8),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"documents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#documents"}},[e._v("#")]),e._v(" Documents")]),e._v(" "),a("p",[a("strong",[e._v("Documents")]),e._v(" are objects composed of fields containing any type of data."),a("br"),e._v("\nA "),a("strong",[e._v("field")]),e._v(" is composed of an "),a("strong",[e._v("attribute")]),e._v(" and its associated data.")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("3205")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Interstellar"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"This is a great movie."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"sci fi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"space"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h4",{attrs:{id:"wording"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wording"}},[e._v("#")]),e._v(" Wording")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Attribute")]),e._v(": "),a("code",[e._v('"id"')]),e._v(", "),a("code",[e._v('"title"')]),e._v(", "),a("code",[e._v('"description"')]),e._v(" and "),a("code",[e._v('"type"')]),e._v(".")]),e._v(" "),a("li",[a("strong",[e._v("Field")]),e._v(": the combination of attributes and data (i.e, "),a("code",[e._v('"title": "Interstellar"')]),e._v(")")]),e._v(" "),a("li",[a("strong",[e._v("Document")]),e._v(": The combination of all the fields between brackets.")])]),e._v(" "),a("h2",{attrs:{id:"structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#structure"}},[e._v("#")]),e._v(" Structure")]),e._v(" "),a("p",[e._v("A document is added to MeiliSearch in "),a("code",[e._v("JSON format")]),e._v("."),a("br"),e._v("\nWhen using the "),a("RouterLink",{attrs:{to:"/references/documents.html#add-or-update-documents"}},[e._v("route to add new documents")]),e._v(", all documents should be sent in an array. And this, even if there is only one document.")],1),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -X POST "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),e._v("http://localhost:7700/indexes/movie/documents"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n--data "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'[\n  {\n    "movie_id": "123sq178",\n    "title": "Amelie Poulain"\n  }\n]\'')]),e._v("\n")])])]),a("p",[e._v("A "),a("strong",[e._v("document must contain")]),e._v(" "),a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#primary-key"}},[e._v("the primary key field")]),e._v(" to be indexed in MeiliSearch.")],1),e._v(" "),a("h2",{attrs:{id:"fields"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fields"}},[e._v("#")]),e._v(" Fields")]),e._v(" "),a("p",[e._v("All fields present in a document are automatically "),a("glossary",{attrs:{word:"searchable"}}),e._v(" and "),a("glossary",{attrs:{word:"displayed"}}),e._v(".\nThe way MeiliSearch handles a field is customizable in the settings "),a("Badge",{attrs:{text:"soon",type:"warn"}}),e._v(". You can make a field only searchable, or only displayed, or none, in this case, MeiliSearch will completely ignore the field when it is sent on document addition.")],1),e._v(" "),a("p",[e._v("You can also add "),a("glossary",{attrs:{word:"ranking rules"}}),e._v(" on a field, to, for example, add a rule that makes recent movies more relevant than older ones.")],1),e._v(" "),a("h2",{attrs:{id:"primary-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#primary-key"}},[e._v("#")]),e._v(" Primary key")]),e._v(" "),a("p",[e._v("A primary key is an "),a("glossary",{attrs:{word:"attribute"}}),e._v(" with a unique value found in each document of a given index. It is used to store the document in the index.")],1),e._v(" "),a("p",[e._v("Each index recognizes "),a("strong",[e._v("only one")]),e._v(" primary key attribute. Once the "),a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#setting-the-primary-key"}},[e._v("primary key is set on the index")]),e._v(", it "),a("strong",[e._v("cannot be changed")]),e._v(".")],1),e._v(" "),a("p",[a("strong",[e._v("Example:")])]),e._v(" "),a("p",[e._v("In an index called "),a("code",[e._v("movie")]),e._v(" there are 200k "),a("code",[e._v("documents")]),e._v(". Each of these 200k documents has a primary key called "),a("code",[e._v("movie_id")]),e._v(" whose value is unique.")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"movie_id"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1564saqw12ss"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"title"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Kung fu Panda"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"movie_id"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"15k1j2kkw223s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"title"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Batman"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),a("p",[e._v("If the "),a("strong",[e._v("primary key")]),e._v(" is not found in a document, the document will not be added.")]),e._v(" "),a("h3",{attrs:{id:"setting-the-primary-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-the-primary-key"}},[e._v("#")]),e._v(" Setting the primary key")]),e._v(" "),a("p",[e._v("MeiliSearch has several ways of knowing which field is the "),a("code",[e._v("primary key")]),e._v(".")]),e._v(" "),a("ul",[a("li",[e._v("MeiliSearch "),a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#meilisearch-infers-your-primary-key"}},[e._v("automaticly infers the primary key")]),e._v(" based on your first document.")],1),e._v(" "),a("li",[e._v("Set it "),a("RouterLink",{attrs:{to:"/references/indexes.html#create-an-index"}},[e._v("on index creation")])],1),e._v(" "),a("li",[e._v("Set it "),a("RouterLink",{attrs:{to:"/references/documents.html#add-or-replace-documents"}},[e._v("on document addition")])],1)]),e._v(" "),a("h4",{attrs:{id:"meilisearch-infers-your-primary-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#meilisearch-infers-your-primary-key"}},[e._v("#")]),e._v(" MeiliSearch infers your primary key")]),e._v(" "),a("p",[e._v("If no primary key has been given through the index creation or through document additions, MeiliSearch will search for the primary key in the first document sent.")]),e._v(" "),a("p",[e._v("MeiliSearch will search for an attribute that contains the string "),a("code",[e._v("id")]),e._v(" in any way case-insensitively. (i.e, "),a("code",[e._v("uid")]),e._v(", "),a("code",[e._v("MovieId")]),e._v(", "),a("code",[e._v("ID")]),e._v(", "),a("code",[e._v("123id123")]),e._v(").\nIf none has been found, no documents will be added.")]),e._v(" "),a("h4",{attrs:{id:"missing-primary-key-error"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#missing-primary-key-error"}},[e._v("#")]),e._v(" Missing primary key error")]),e._v(" "),a("p",[e._v("❗️ If you get the "),a("code",[e._v("missing primary key")]),e._v(" error, it means MeiliSearch could not recognize your primary key. This means your primary key does not answer the formatting explained above. To solve this error, you could send the "),a("RouterLink",{attrs:{to:"/references/documents.html#add-or-replace-documents"}},[e._v("primary-key's name as a query parameter")]),e._v(" or "),a("RouterLink",{attrs:{to:"/references/indexes.html#create-an-index"}},[e._v("update your index to add the primary key's name")]),e._v(" as explained in: "),a("RouterLink",{attrs:{to:"/guides/main_concepts/documents.html#primary-key"}},[e._v("setting the primary key")]),e._v(".")],1),e._v(" "),a("h3",{attrs:{id:"primary-key-value-format"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#primary-key-value-format"}},[e._v("#")]),e._v(" Primary key value format")]),e._v(" "),a("p",[e._v("The primary key "),a("strong",[e._v("value")]),e._v(" may contain only "),a("code",[e._v("A-Z a-z 0-0")]),e._v(" and "),a("code",[e._v("-_")]),e._v(" characters.")]),e._v(" "),a("h4",{attrs:{id:"examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),a("p",[e._v("Good:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('"id": "_Aabc012_"\n')])])]),a("p",[e._v("Bad:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('"id": "@BI+* ^5h2%"\n')])])]),a("p",[e._v("The document addition request in MeiliSearch is "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Atomicity_(database_systems)",target:"_blank",rel:"noopener noreferrer"}},[e._v("atomic"),a("OutboundLink")],1),e._v(". Thus, if you add 200 documents in one go and if one of the documents has a badly formatted primary key, an error will occur, and none of the documents will be added.")])])}),[],!1,null,null,null);t.default=r.exports}}]);